{"ast":null,"code":"import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { ref, defineComponent } from \"vue\";\nimport { pick, extend, truthProp, preventDefault, makeStringProp, createNamespace } from \"../utils/index.mjs\";\nimport { fieldSharedProps } from \"../field/Field.mjs\";\nimport { useId } from \"../composables/use-id.mjs\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { Field } from \"../field/index.mjs\";\nconst [name, bem, t] = createNamespace(\"search\");\nconst searchProps = extend({}, fieldSharedProps, {\n  label: String,\n  shape: makeStringProp(\"square\"),\n  leftIcon: makeStringProp(\"search\"),\n  clearable: truthProp,\n  actionText: String,\n  background: String,\n  showAction: Boolean\n});\nvar stdin_default = defineComponent({\n  name,\n  props: searchProps,\n  emits: [\"blur\", \"focus\", \"clear\", \"search\", \"cancel\", \"click-input\", \"click-left-icon\", \"click-right-icon\", \"update:modelValue\"],\n  setup(props, {\n    emit,\n    slots,\n    attrs\n  }) {\n    const id = useId();\n    const filedRef = ref();\n    const onCancel = () => {\n      if (!slots.action) {\n        emit(\"update:modelValue\", \"\");\n        emit(\"cancel\");\n      }\n    };\n    const onKeypress = event => {\n      const ENTER_CODE = 13;\n      if (event.keyCode === ENTER_CODE) {\n        preventDefault(event);\n        emit(\"search\", props.modelValue);\n      }\n    };\n    const getInputId = () => props.id || `${id}-input`;\n    const renderLabel = () => {\n      if (slots.label || props.label) {\n        return _createVNode(\"label\", {\n          \"class\": bem(\"label\"),\n          \"for\": getInputId()\n        }, [slots.label ? slots.label() : props.label]);\n      }\n    };\n    const renderAction = () => {\n      if (props.showAction) {\n        const text = props.actionText || t(\"cancel\");\n        return _createVNode(\"div\", {\n          \"class\": bem(\"action\"),\n          \"role\": \"button\",\n          \"tabindex\": 0,\n          \"onClick\": onCancel\n        }, [slots.action ? slots.action() : text]);\n      }\n    };\n    const blur = () => {\n      var _a;\n      return (_a = filedRef.value) == null ? void 0 : _a.blur();\n    };\n    const focus = () => {\n      var _a;\n      return (_a = filedRef.value) == null ? void 0 : _a.focus();\n    };\n    const onBlur = event => emit(\"blur\", event);\n    const onFocus = event => emit(\"focus\", event);\n    const onClear = event => emit(\"clear\", event);\n    const onClickInput = event => emit(\"click-input\", event);\n    const onClickLeftIcon = event => emit(\"click-left-icon\", event);\n    const onClickRightIcon = event => emit(\"click-right-icon\", event);\n    const fieldPropNames = Object.keys(fieldSharedProps);\n    const renderField = () => {\n      const fieldAttrs = extend({}, attrs, pick(props, fieldPropNames), {\n        id: getInputId()\n      });\n      const onInput = value => emit(\"update:modelValue\", value);\n      return _createVNode(Field, _mergeProps({\n        \"ref\": filedRef,\n        \"type\": \"search\",\n        \"class\": bem(\"field\"),\n        \"border\": false,\n        \"onBlur\": onBlur,\n        \"onFocus\": onFocus,\n        \"onClear\": onClear,\n        \"onKeypress\": onKeypress,\n        \"onClick-input\": onClickInput,\n        \"onClick-left-icon\": onClickLeftIcon,\n        \"onClick-right-icon\": onClickRightIcon,\n        \"onUpdate:modelValue\": onInput\n      }, fieldAttrs), pick(slots, [\"left-icon\", \"right-icon\"]));\n    };\n    useExpose({\n      focus,\n      blur\n    });\n    return () => {\n      var _a;\n      return _createVNode(\"div\", {\n        \"class\": bem({\n          \"show-action\": props.showAction\n        }),\n        \"style\": {\n          background: props.background\n        }\n      }, [(_a = slots.left) == null ? void 0 : _a.call(slots), _createVNode(\"div\", {\n        \"class\": bem(\"content\", props.shape)\n      }, [renderLabel(), renderField()]), renderAction()]);\n    };\n  }\n});\nexport { stdin_default as default };","map":{"version":3,"names":["mergeProps","_mergeProps","createVNode","_createVNode","ref","defineComponent","pick","extend","truthProp","preventDefault","makeStringProp","createNamespace","fieldSharedProps","useId","useExpose","Field","name","bem","t","searchProps","label","String","shape","leftIcon","clearable","actionText","background","showAction","Boolean","stdin_default","props","emits","setup","emit","slots","attrs","id","filedRef","onCancel","action","onKeypress","event","ENTER_CODE","keyCode","modelValue","getInputId","renderLabel","renderAction","text","blur","_a","value","focus","onBlur","onFocus","onClear","onClickInput","onClickLeftIcon","onClickRightIcon","fieldPropNames","Object","keys","renderField","fieldAttrs","onInput","left","call","default"],"sources":["C:/Code/VScode/VUE/项目/01-xiaoms/node_modules/vant/es/search/Search.mjs"],"sourcesContent":["import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { ref, defineComponent } from \"vue\";\nimport { pick, extend, truthProp, preventDefault, makeStringProp, createNamespace } from \"../utils/index.mjs\";\nimport { fieldSharedProps } from \"../field/Field.mjs\";\nimport { useId } from \"../composables/use-id.mjs\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { Field } from \"../field/index.mjs\";\nconst [name, bem, t] = createNamespace(\"search\");\nconst searchProps = extend({}, fieldSharedProps, {\n  label: String,\n  shape: makeStringProp(\"square\"),\n  leftIcon: makeStringProp(\"search\"),\n  clearable: truthProp,\n  actionText: String,\n  background: String,\n  showAction: Boolean\n});\nvar stdin_default = defineComponent({\n  name,\n  props: searchProps,\n  emits: [\"blur\", \"focus\", \"clear\", \"search\", \"cancel\", \"click-input\", \"click-left-icon\", \"click-right-icon\", \"update:modelValue\"],\n  setup(props, {\n    emit,\n    slots,\n    attrs\n  }) {\n    const id = useId();\n    const filedRef = ref();\n    const onCancel = () => {\n      if (!slots.action) {\n        emit(\"update:modelValue\", \"\");\n        emit(\"cancel\");\n      }\n    };\n    const onKeypress = (event) => {\n      const ENTER_CODE = 13;\n      if (event.keyCode === ENTER_CODE) {\n        preventDefault(event);\n        emit(\"search\", props.modelValue);\n      }\n    };\n    const getInputId = () => props.id || `${id}-input`;\n    const renderLabel = () => {\n      if (slots.label || props.label) {\n        return _createVNode(\"label\", {\n          \"class\": bem(\"label\"),\n          \"for\": getInputId()\n        }, [slots.label ? slots.label() : props.label]);\n      }\n    };\n    const renderAction = () => {\n      if (props.showAction) {\n        const text = props.actionText || t(\"cancel\");\n        return _createVNode(\"div\", {\n          \"class\": bem(\"action\"),\n          \"role\": \"button\",\n          \"tabindex\": 0,\n          \"onClick\": onCancel\n        }, [slots.action ? slots.action() : text]);\n      }\n    };\n    const blur = () => {\n      var _a;\n      return (_a = filedRef.value) == null ? void 0 : _a.blur();\n    };\n    const focus = () => {\n      var _a;\n      return (_a = filedRef.value) == null ? void 0 : _a.focus();\n    };\n    const onBlur = (event) => emit(\"blur\", event);\n    const onFocus = (event) => emit(\"focus\", event);\n    const onClear = (event) => emit(\"clear\", event);\n    const onClickInput = (event) => emit(\"click-input\", event);\n    const onClickLeftIcon = (event) => emit(\"click-left-icon\", event);\n    const onClickRightIcon = (event) => emit(\"click-right-icon\", event);\n    const fieldPropNames = Object.keys(fieldSharedProps);\n    const renderField = () => {\n      const fieldAttrs = extend({}, attrs, pick(props, fieldPropNames), {\n        id: getInputId()\n      });\n      const onInput = (value) => emit(\"update:modelValue\", value);\n      return _createVNode(Field, _mergeProps({\n        \"ref\": filedRef,\n        \"type\": \"search\",\n        \"class\": bem(\"field\"),\n        \"border\": false,\n        \"onBlur\": onBlur,\n        \"onFocus\": onFocus,\n        \"onClear\": onClear,\n        \"onKeypress\": onKeypress,\n        \"onClick-input\": onClickInput,\n        \"onClick-left-icon\": onClickLeftIcon,\n        \"onClick-right-icon\": onClickRightIcon,\n        \"onUpdate:modelValue\": onInput\n      }, fieldAttrs), pick(slots, [\"left-icon\", \"right-icon\"]));\n    };\n    useExpose({\n      focus,\n      blur\n    });\n    return () => {\n      var _a;\n      return _createVNode(\"div\", {\n        \"class\": bem({\n          \"show-action\": props.showAction\n        }),\n        \"style\": {\n          background: props.background\n        }\n      }, [(_a = slots.left) == null ? void 0 : _a.call(slots), _createVNode(\"div\", {\n        \"class\": bem(\"content\", props.shape)\n      }, [renderLabel(), renderField()]), renderAction()]);\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}