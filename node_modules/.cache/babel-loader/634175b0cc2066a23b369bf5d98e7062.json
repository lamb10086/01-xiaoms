{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, vShow as _vShow, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-4fdaaa38\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"middle-nav\"\n};\nconst _hoisted_2 = {\n  class: \"show-nav\"\n};\nconst _hoisted_3 = {\n  class: \"right-nav\"\n};\nconst _hoisted_4 = {\n  class: \"search-nav\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_van_search = _resolveComponent(\"van-search\");\n  const _component_van_icon = _resolveComponent(\"van-icon\");\n  const _component_van_sidebar_item = _resolveComponent(\"van-sidebar-item\");\n  const _component_van_sidebar = _resolveComponent(\"van-sidebar\");\n  const _component_van_grid_item = _resolveComponent(\"van-grid-item\");\n  const _component_van_grid = _resolveComponent(\"van-grid\");\n  const _component_van_cell = _resolveComponent(\"van-cell\");\n  const _component_van_cell_group = _resolveComponent(\"van-cell-group\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_van_search, {\n    modelValue: $data.keyword,\n    \"onUpdate:modelValue\": [_cache[0] || (_cache[0] = $event => $data.keyword = $event), _cache[3] || (_cache[3] = $event => $options.searching())],\n    placeholder: \"请输入搜索关键词\",\n    shape: \"round\",\n    onFocus: _cache[1] || (_cache[1] = $event => this.showAction = true),\n    onCancel: _cache[2] || (_cache[2] = $event => this.showAction = false),\n    \"show-action\": $data.showAction\n  }, null, 8 /* PROPS */, [\"modelValue\", \"show-action\"]), _createElementVNode(\"div\", _hoisted_1, [_withDirectives(_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_van_sidebar, {\n    modelValue: $data.active,\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.active = $event),\n    class: \"left-nav\"\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.leftCate, item => {\n      return _openBlock(), _createBlock(_component_van_sidebar_item, {\n        key: item.cid\n      }, {\n        title: _withCtx(() => [_createElementVNode(\"span\", null, [item.etype == 1 ? (_openBlock(), _createBlock(_component_van_icon, {\n          key: 0,\n          size: \"4vw\",\n          name: $options.iconName[item.cid - 1],\n          color: $data.active == item.cid - 1 ? $options.iconColor[item.cid - 1] : '#d3d3d3'\n        }, null, 8 /* PROPS */, [\"name\", \"color\"])) : _createCommentVNode(\"v-if\", true), _createTextVNode(\" \" + _toDisplayString(item.title), 1 /* TEXT */)])]),\n\n        _: 2 /* DYNAMIC */\n      }, 1024 /* DYNAMIC_SLOTS */);\n    }), 128 /* KEYED_FRAGMENT */))]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"]), _createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.rightCate, item => {\n    return _openBlock(), _createBlock(_component_van_cell_group, {\n      key: item.title\n    }, {\n      title: _withCtx(() => [item.etype == 1 ? (_openBlock(), _createBlock(_component_van_icon, {\n        key: 0,\n        name: $options.iconName[item.cid - 1],\n        size: \"4vw\",\n        color: $options.iconColor[item.cid - 1]\n      }, null, 8 /* PROPS */, [\"name\", \"color\"])) : _createCommentVNode(\"v-if\", true), _createTextVNode(\" \" + _toDisplayString(item.title), 1 /* TEXT */)]),\n\n      default: _withCtx(() => [_createVNode(_component_van_cell, null, {\n        default: _withCtx(() => [_createVNode(_component_van_grid, {\n          \"column-num\": 3,\n          border: false,\n          \"icon-size\": \"18vw\"\n        }, {\n          default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.child, food => {\n            return _openBlock(), _createBlock(_component_van_grid_item, {\n              key: food.cid,\n              icon: food.pic,\n              text: food.title,\n              onClick: $event => $options.toPage(food)\n            }, null, 8 /* PROPS */, [\"icon\", \"text\", \"onClick\"]);\n          }), 128 /* KEYED_FRAGMENT */))]),\n\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */)]),\n\n        _: 2 /* DYNAMIC */\n      }, 1024 /* DYNAMIC_SLOTS */)]),\n\n      _: 2 /* DYNAMIC */\n    }, 1024 /* DYNAMIC_SLOTS */);\n  }), 128 /* KEYED_FRAGMENT */))])], 512 /* NEED_PATCH */), [[_vShow, $data.showAction == false]]), _withDirectives(_createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_van_cell_group, null, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.searchList, item => {\n      return _openBlock(), _createBlock(_component_van_cell, {\n        title: item.title,\n        key: item.cid,\n        onClick: $event => $options.toPage(item)\n      }, null, 8 /* PROPS */, [\"title\", \"onClick\"]);\n    }), 128 /* KEYED_FRAGMENT */))]),\n\n    _: 1 /* STABLE */\n  })], 512 /* NEED_PATCH */), [[_vShow, $data.showAction == true]])])]);\n}","map":{"version":3,"mappings":";;;EAWSA,KAAK,EAAC;AAAY;;EAChBA,KAAK,EAAC;AAAU;;EAmBdA,KAAK,EAAC;AAAW;;EA0BnBA,KAAK,EAAC;AAAY;;;;;;;;;;uBAxD3BC,oBAmEM,cAlEJC,aAQcC;gBAPHC,aAAO;gEAAPA,aAAO,gDAMKC,kBAAS;IAL9BC,WAAW,EAAC,UAAU;IACtBC,KAAK,EAAC,OAAO;IACZC,OAAK,2CAAOC,UAAU;IACtBC,QAAM,2CAAOD,UAAU;IACvB,aAAW,EAAEL;0DAGhBO,oBAwDM,OAxDNC,UAwDM,mBAvDJD,oBA2CM,OA3CNE,UA2CM,GA1CJX,aAgBcY;gBAhBQV,YAAM;+DAANA,YAAM;IAAEJ,KAAK,EAAC;;sBAChB,MAAwB,oBAA1CC,oBAcmBc,6BAdcX,cAAQ,EAAhBY,IAAI;2BAA7BC,aAcmBC;QAdyBC,GAAG,EAAEH,IAAI,CAACI;;QACzCC,KAAK,WACd,MAUO,CAVPV,oBAUO,eANGK,IAAI,CAACM,KAAK,uBAHlBL,aAOEM;;UANAC,IAAI,EAAC,KAAK;UACTC,IAAI,EAAEpB,iBAAQ,CAACW,IAAI,CAACI,GAAG;UAEvBM,KAAK,EAAwBtB,YAAM,IAAIY,IAAI,CAACI,GAAG,OAAOf,kBAAS,CAACW,IAAI,CAACI,GAAG;0GAGzE,GACF,oBAAGJ,IAAI,CAACK,KAAK;;;;;;;qCAMrBV,oBAuBM,OAvBNgB,UAuBM,sBAtBJ1B,oBAqBiBc,6BArBcX,eAAS,EAAjBY,IAAI;yBAA3BC,aAqBiBW;MArB0BT,GAAG,EAAEH,IAAI,CAACK;;MACxCA,KAAK,WACd,MAKE,CAHML,IAAI,CAACM,KAAK,uBAFlBL,aAKEM;;QAJCE,IAAI,EAAEpB,iBAAQ,CAACW,IAAI,CAACI,GAAG;QAExBI,IAAI,EAAC,KAAK;QACTE,KAAK,EAAErB,kBAAS,CAACW,IAAI,CAACI,GAAG;wGAC1B,GACF,oBAAGJ,IAAI,CAACK,KAAK;;wBAEf,MAUW,CAVXnB,aAUW2B;0BATT,MAQW,CARX3B,aAQW4B;UARA,YAAU,EAAE,CAAC;UAAGC,MAAM,EAAE,KAAK;UAAE,WAAS,EAAC;;4BAEhD,MAA0B,oBAD5B9B,oBAMEc,6BALeC,IAAI,CAACgB,KAAK,EAAlBC,IAAI;iCADbhB,aAMEiB;cAJCf,GAAG,EAAEc,IAAI,CAACb,GAAG;cACbe,IAAI,EAAEF,IAAI,CAACG,GAAG;cACdC,IAAI,EAAEJ,IAAI,CAACZ,KAAK;cAChBiB,OAAK,YAAEjC,eAAM,CAAC4B,IAAI;;;;;;;;;;;;sEArCD7B,gBAAU,8BA6CxCO,oBASM,OATN4B,UASM,GARJrC,aAOiB0B;sBALb,MAA0B,oBAD5B3B,oBAKEc,6BAJeX,gBAAU,EAAlBY,IAAI;2BADbC,aAKEY;QAHCR,KAAK,EAAEL,IAAI,CAACK,KAAK;QACjBF,GAAG,EAAEH,IAAI,CAACI,GAAG;QACbkB,OAAK,YAAEjC,eAAM,CAACW,IAAI;;;;;wCANOZ,gBAAU","names":["class","_createElementBlock","_createVNode","_component_van_search","$data","$options","placeholder","shape","onFocus","showAction","onCancel","_createElementVNode","_hoisted_1","_hoisted_2","_component_van_sidebar","_Fragment","item","_createBlock","_component_van_sidebar_item","key","cid","title","etype","_component_van_icon","size","name","color","_hoisted_3","_component_van_cell_group","_component_van_cell","_component_van_grid","border","child","food","_component_van_grid_item","icon","pic","text","onClick","_hoisted_4"],"sourceRoot":"","sources":["C:\\Code\\VScode\\VUE\\项目\\01-xiaoms\\src\\views\\xiaomengshu\\ToolView\\Eat\\MainCom.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <van-search\r\n      v-model=\"keyword\"\r\n      placeholder=\"请输入搜索关键词\"\r\n      shape=\"round\"\r\n      @focus=\"this.showAction = true\"\r\n      @cancel=\"this.showAction = false\"\r\n      :show-action=\"showAction\"\r\n      @update:model-value=\"searching()\"\r\n    ></van-search>\r\n    <div class=\"middle-nav\">\r\n      <div class=\"show-nav\" v-show=\"showAction == false\">\r\n        <van-sidebar v-model=\"active\" class=\"left-nav\">\r\n          <van-sidebar-item v-for=\"item in leftCate\" :key=\"item.cid\">\r\n            <template #title>\r\n              <span>\r\n                <van-icon\r\n                  size=\"4vw\"\r\n                  :name=\"iconName[item.cid - 1]\"\r\n                  v-if=\"item.etype == 1\"\r\n                  :color=\"\r\n                    active == item.cid - 1 ? iconColor[item.cid - 1] : '#d3d3d3'\r\n                  \"\r\n                />\r\n                {{ item.title }}\r\n              </span>\r\n            </template>\r\n          </van-sidebar-item>\r\n        </van-sidebar>\r\n\r\n        <div class=\"right-nav\">\r\n          <van-cell-group v-for=\"item in rightCate\" :key=\"item.title\">\r\n            <template #title>\r\n              <van-icon\r\n                :name=\"iconName[item.cid - 1]\"\r\n                v-if=\"item.etype == 1\"\r\n                size=\"4vw\"\r\n                :color=\"iconColor[item.cid - 1]\"\r\n              />\r\n              {{ item.title }}\r\n            </template>\r\n            <van-cell>\r\n              <van-grid :column-num=\"3\" :border=\"false\" icon-size=\"18vw\">\r\n                <van-grid-item\r\n                  v-for=\"food in item.child\"\r\n                  :key=\"food.cid\"\r\n                  :icon=\"food.pic\"\r\n                  :text=\"food.title\"\r\n                  @click=\"toPage(food)\"\r\n                />\r\n              </van-grid>\r\n            </van-cell>\r\n          </van-cell-group>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"search-nav\" v-show=\"showAction == true\">\r\n        <van-cell-group>\r\n          <van-cell\r\n            v-for=\"item in searchList\"\r\n            :title=\"item.title\"\r\n            :key=\"item.cid\"\r\n            @click=\"toPage(item)\"\r\n          />\r\n        </van-cell-group>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getEatList } from \"@/api/xiaomengshu\";\r\nexport default {\r\n  name: \"MainCom\",\r\n  data() {\r\n    return {\r\n      leftCate: [],\r\n      rightCate: [],\r\n      choiceKind: 0,\r\n      active: 0,\r\n      keyword: \"\",\r\n      showAction: false,\r\n      searchList: [],\r\n    };\r\n  },\r\n  computed: {\r\n    iconName() {\r\n      return this.$store.state.eaticonName;\r\n    },\r\n    iconColor() {\r\n      return this.$store.state.eaticonColor;\r\n    },\r\n  },\r\n  async created() {\r\n    await this.getleftCate();\r\n    this.getrightCate();\r\n    console.log(\"1-1-1-1-1-1-11-\");\r\n  },\r\n  watch: {\r\n    pet_type() {\r\n      this.getleftCate();\r\n      this.getrightCate();\r\n    },\r\n    active() {\r\n      this.choiceKind = this.leftCate[this.active];\r\n      this.getrightCate();\r\n      // console.log(this.choiceKind);\r\n    },\r\n    leftCate() {\r\n      this.changescreen();\r\n    },\r\n  },\r\n  methods: {\r\n    //获取左边列表\r\n    async getleftCate() {\r\n      let res = await getEatList({ pet_type: this.pet_type });\r\n      this.leftCate = res.data.leftCate;\r\n      this.choiceKind = res.data.leftCate[0];\r\n      // console.log(this.choiceKind);\r\n    },\r\n    //获取右边列表\r\n    async getrightCate() {\r\n      let res = await getEatList({\r\n        pet_type: this.pet_type,\r\n        cid: this.choiceKind.cid,\r\n        etype: this.choiceKind.etype,\r\n      });\r\n      this.rightCate = res.data.rightCate;\r\n    },\r\n    //调整高度\r\n    changescreen() {\r\n      let middleNav = document.querySelector(\".middle-nav\");\r\n      let ls = document.documentElement.clientHeight;\r\n      middleNav.style.height = ls - middleNav.offsetTop + \"px\";\r\n    },\r\n    //点击搜索框事件\r\n    async searching() {\r\n      let res = await getEatList({ do: \"Suggest\", keyword: this.keyword });\r\n      console.log(\"res:\", res);\r\n      // console.log(this.keyword);\r\n      this.searchList = res.data.list;\r\n    },\r\n    toPage(item) {\r\n      this.$router.push({\r\n        name: \"page\",\r\n        query: {\r\n          cid: item.cid,\r\n        },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.van-search {\r\n  height: 11vw;\r\n}\r\n\r\n.middle-nav {\r\n  .show-nav {\r\n    height: 100%;\r\n    display: flex;\r\n\r\n    .right-nav:extend(.left-nav) {\r\n      height: 100%;\r\n      flex: 1;\r\n      overflow: scroll;\r\n    }\r\n  }\r\n  .search-nav {\r\n    height: 100%;\r\n    background-color: white;\r\n  }\r\n}\r\n\r\n.van-sidebar-item {\r\n  color: #666666;\r\n  text-align: center;\r\n  font-size: 1.2rem;\r\n  padding: 3.2vw 0;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}