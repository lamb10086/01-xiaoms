{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withModifiers as _withModifiers, normalizeClass as _normalizeClass, withCtx as _withCtx, createBlock as _createBlock, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-407f16ad\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"detail-bar\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"请选择症状\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = {\n  key: 1,\n  class: \"img-bar\"\n};\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = {\n  key: 0,\n  class: \"img-btn-shade\"\n};\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = {\n  key: 0,\n  class: \"img-btn-shade\"\n};\nconst _hoisted_9 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_van_button = _resolveComponent(\"van-button\");\n  const _component_van_icon = _resolveComponent(\"van-icon\");\n  const _component_van_popup = _resolveComponent(\"van-popup\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.detailList, (item, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: item.title,\n      class: \"detail-btn\"\n    }, [_createElementVNode(\"p\", null, _toDisplayString(item.title) + \":\", 1 /* TEXT */), item.is_img === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [item.checkbox === 0 ? (_openBlock(true), _createElementBlock(_Fragment, {\n      key: 0\n    }, _renderList(item.list, btn => {\n      return _openBlock(), _createBlock(_component_van_button, {\n        size: \"small\",\n        class: _normalizeClass({\n          choicebtn: this.allids[index].indexOf(btn.cid) != -1\n        }),\n        key: btn.cid,\n        round: \"\",\n        type: \"default\",\n        onClick: _withModifiers($event => $options.changeCid(btn.cid, index, 0), [\"prevent\"])\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(btn.title), 1 /* TEXT */)]),\n\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"class\", \"onClick\"]);\n    }), 128 /* KEYED_FRAGMENT */)) : _createCommentVNode(\"v-if\", true), item.checkbox === 1 ? (_openBlock(true), _createElementBlock(_Fragment, {\n      key: 1\n    }, _renderList(item.list, btn => {\n      return _openBlock(), _createBlock(_component_van_button, {\n        size: \"small\",\n        class: _normalizeClass({\n          choicebtn: this.allids[index].indexOf(btn.cid) != -1\n        }),\n        key: btn.cid,\n        round: \"\",\n        type: \"default\",\n        onClick: _withModifiers($event => $options.changeCid(btn.cid, index, 1), [\"prevent\"])\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(btn.title), 1 /* TEXT */)]),\n\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"class\", \"onClick\"]);\n    }), 128 /* KEYED_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [item.checkbox === 0 ? (_openBlock(true), _createElementBlock(_Fragment, {\n      key: 0\n    }, _renderList(item.list, btn => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        class: \"img-btn\",\n        key: btn.cid,\n        style: _normalizeStyle({\n          backgroundImage: `url(${btn.img})`\n        }),\n        onClick: $event => $options.changeImgCid(btn, index, 2)\n      }, [$options.imgClass(btn.cid, index) ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6)) : _createCommentVNode(\"v-if\", true)], 12 /* STYLE, PROPS */, _hoisted_5);\n    }), 128 /* KEYED_FRAGMENT */)) : _createCommentVNode(\"v-if\", true), item.checkbox === 1 ? (_openBlock(true), _createElementBlock(_Fragment, {\n      key: 1\n    }, _renderList(item.list, btn => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        class: \"img-btn\",\n        key: btn.cid,\n        style: _normalizeStyle({\n          backgroundImage: `url(${btn.img})`\n        }),\n        onClick: $event => $options.changeImgCid(btn, index, 3)\n      }, [$options.imgClass(btn.cid, index) ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createVNode(_component_van_icon, {\n        name: \"checked\",\n        size: \"2rem\",\n        color: \"#30abb3\"\n      })])) : _createCommentVNode(\"v-if\", true)], 12 /* STYLE, PROPS */, _hoisted_7);\n    }), 128 /* KEYED_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)]))]);\n  }), 128 /* KEYED_FRAGMENT */)), _createVNode(_component_van_popup, {\n    teleport: \"body\",\n    class: \"illness-img-dialog\",\n    show: $data.showDialog,\n    \"onUpdate:show\": _cache[2] || (_cache[2] = $event => $data.showDialog = $event)\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"img\", {\n      src: $data.showImg.img\n    }, null, 8 /* PROPS */, _hoisted_9), _createElementVNode(\"p\", null, _toDisplayString($data.showImg.remark), 1 /* TEXT */), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n      class: \"cancelbtn\",\n      onClick: _cache[0] || (_cache[0] = $event => $data.showDialog = false)\n    }, \"不对，再看看其他的\"), _createElementVNode(\"button\", {\n      class: \"choicebtn\",\n      onClick: _cache[1] || (_cache[1] = $event => $options.changeCid($data.showImg.cid, $data.showImg.index, $data.showImg.type))\n    }, \"对，就是这个症状\")])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"show\"])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_Fragment","$props","item","index","title","is_img","checkbox","key","list","btn","_createBlock","_component_van_button","size","choicebtn","allids","indexOf","cid","round","type","onClick","$options","_hoisted_4","style","img","_hoisted_6","_hoisted_8","_createVNode","_component_van_icon","name","color","_component_van_popup","teleport","show","$data","src","remark"],"sourceRoot":"","sources":["C:\\Code\\VScode\\VUE\\项目\\01-xiaoms\\src\\components\\xiaomengshu\\Illness\\DetailList.vue"],"sourcesContent":["<template>\r\n    <div class=\"detail-bar\">\r\n        <h3>请选择症状</h3>\r\n        <template v-for=\"(item, index) in detailList\" :key=\"item.title\">\r\n            <div class=\"detail-btn\">\r\n                <p>{{ item.title }}:</p>\r\n                <div v-if=\"item.is_img === 0\">\r\n                    <template v-if=\"item.checkbox === 0\">\r\n                        <van-button size=\"small\" :class=\"{ choicebtn: this.allids[index].indexOf(btn.cid) != -1 }\"\r\n                            v-for=\"btn in item.list\" :key=\"btn.cid\" round type=\"default\"\r\n                            @click.prevent=\"changeCid(btn.cid, index, 0)\">{{ btn.title\r\n                            }}</van-button>\r\n                    </template>\r\n                    <template v-if=\"item.checkbox === 1\">\r\n                        <van-button size=\"small\" :class=\"{ choicebtn: this.allids[index].indexOf(btn.cid) != -1 }\"\r\n                            v-for=\"btn in item.list\" :key=\"btn.cid\" round type=\"default\"\r\n                            @click.prevent=\"changeCid(btn.cid, index, 1)\">{{ btn.title\r\n                            }}</van-button>\r\n                    </template>\r\n                </div>\r\n                <div v-else class=\"img-bar\">\r\n                    <template v-if=\"item.checkbox === 0\">\r\n                        <div class=\"img-btn\" v-for=\"btn in item.list\" :key=\"btn.cid\" :style=\"{\r\n                            backgroundImage: `url(${btn.img})`\r\n                        }\" @click=\"changeImgCid(btn, index, 2)\">\r\n                            <div v-if=\"imgClass(btn.cid, index)\" class=\"img-btn-shade\">\r\n\r\n                            </div>\r\n                        </div>\r\n                    </template>\r\n                    <template v-if=\"item.checkbox === 1\">\r\n                        <div class=\"img-btn\" v-for=\"btn in item.list\" :key=\"btn.cid\" :style=\"{\r\n                            backgroundImage: `url(${btn.img})`\r\n                        }\" @click=\"changeImgCid(btn, index, 3)\">\r\n                            <div v-if=\"imgClass(btn.cid, index)\" class=\"img-btn-shade\">\r\n                                <van-icon name=\"checked\" size=\"2rem\" color=\"#30abb3\" />\r\n                            </div>\r\n                        </div>\r\n                    </template>\r\n                </div>\r\n            </div>\r\n        </template>\r\n\r\n        <van-popup teleport=\"body\" class=\"illness-img-dialog\" v-model:show=\"showDialog\">\r\n            <img :src=\"showImg.img\" />\r\n            <p>{{ showImg.remark }}</p>\r\n            <div>\r\n                <button class=\"cancelbtn\" @click=\"showDialog = false\">不对，再看看其他的</button>\r\n                <button class=\"choicebtn\" @click=\"changeCid(showImg.cid, showImg.index, showImg.type)\">对，就是这个症状</button>\r\n            </div>\r\n        </van-popup>\r\n\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n        cid: {\r\n            type: Number,\r\n            default: 0,\r\n        },\r\n        detailList: {\r\n            type: Array,\r\n            default: () => { },\r\n        }\r\n    },\r\n    inject: ['ids', 'no_ids'],\r\n    data() {\r\n        return {\r\n            allids: [],\r\n            showDialog: false,\r\n            showImg: {\r\n            }\r\n        };\r\n    },\r\n    methods: {\r\n        changeCid(cid, index, type) {\r\n            // console.log(\"type:\", type)\r\n            if (type === 0) this.allids[index][0] = cid;\r\n            else if (type === 1) {\r\n                let ls = this.allids[index].indexOf(cid);\r\n                if (ls == -1) this.allids[index].push(cid);\r\n                else {\r\n                    this.allids[index].splice(ls, 1);\r\n                }\r\n            }\r\n\r\n            else if (type === 2) {\r\n                this.allids[index][0] = cid;\r\n                this.showDialog = false\r\n            }\r\n            else {\r\n                let ls = this.allids[index].indexOf(cid);\r\n                // console.log(\"ls:\", ls)\r\n                if (ls == -1) this.allids[index].push(cid);\r\n                else {\r\n                    this.allids[index].splice(ls, 1);\r\n                }\r\n                this.showDialog = false\r\n            }\r\n        },\r\n        imgClass(cid, index) {\r\n            if (this.allids[index].indexOf(cid) != -1)\r\n                return true\r\n            else\r\n                return false\r\n\r\n        },\r\n        changeImgCid(btn, index, type) {\r\n            if (this.imgClass(btn.cid, index)) {\r\n                this.changeCid(btn.cid, index, btn.type);\r\n                return;\r\n            }\r\n            this.showDialog = true;\r\n            this.showImg = { ...btn, index, type }\r\n        }\r\n    },\r\n    watch: {\r\n        detailList() {\r\n            if (this.detailList)\r\n                for (let i = 0; i < this.allids.length; i++) {\r\n                    this.ids.push(...this.allids[i]);\r\n                }\r\n            this.allids = [];\r\n            for (let i = 0; i < this.detailList.length; i++) {\r\n                this.allids.push([]);\r\n                let { list } = this.detailList\r\n                for (let j = 0; j < list.length; j++) {\r\n                    if (this.ids.indexOf(list[j].cid) == -1) {\r\n                        this.no_ids.push(list[j].cid)\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.detail-bar {\r\n    font-size: 1.2rem;\r\n    padding: 0 16px;\r\n\r\n    .detail-btn {\r\n        button {\r\n            margin: 0 5px;\r\n        }\r\n\r\n        .img-bar {\r\n            display: flex;\r\n            flex-wrap: wrap;\r\n\r\n            .img-btn {\r\n                margin: 5px;\r\n                width: 6rem;\r\n                height: 6rem;\r\n                background-size: cover;\r\n                border-radius: 10px;\r\n            }\r\n\r\n            .img-btn-shade {\r\n                display: flex;\r\n                justify-content: center;\r\n                align-items: center;\r\n                width: 100%;\r\n                height: 100%;\r\n                border-radius: 10px;\r\n                background-color: rgba(0, 0, 0, 0.4);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n.choicebtn {\r\n    color: #30abb3;\r\n    border-color: #30abb3;\r\n}\r\n</style>\r\n<style  lang=\"less\">\r\n.illness-img-dialog {\r\n    padding: 20px !important;\r\n    width: 80%;\r\n    border-radius: 20px;\r\n    text-align: center;\r\n\r\n    img {\r\n        width: 100%;\r\n    }\r\n\r\n\r\n    button {\r\n        background-color: white;\r\n        border: 1px solid black;\r\n        border-radius: 20px;\r\n        padding: 1rem 1.5rem;\r\n    }\r\n\r\n    .choicebtn {\r\n        color: #30abb3;\r\n        border-color: #30abb3;\r\n        margin-left: 1.6rem;\r\n    }\r\n\r\n    .cancelbtn {\r\n        color: #9999b3;\r\n        border-color: #9999b3;\r\n    }\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}