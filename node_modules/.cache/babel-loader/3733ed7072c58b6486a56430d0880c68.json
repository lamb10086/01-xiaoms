{"ast":null,"code":"import { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\nimport { extend, isObject, inBrowser } from \"../utils/index.mjs\";\nimport { mountComponent, usePopupState } from \"../utils/mount-component.mjs\";\nimport VanNotify from \"./Notify.mjs\";\nlet timer;\nlet instance;\nconst parseOptions = message => isObject(message) ? message : {\n  message\n};\nfunction initInstance() {\n  ({\n    instance\n  } = mountComponent({\n    setup() {\n      const {\n        state,\n        toggle\n      } = usePopupState();\n      return () => _createVNode(VanNotify, _mergeProps(state, {\n        \"onUpdate:show\": toggle\n      }), null);\n    }\n  }));\n}\nconst getDefaultOptions = () => ({\n  type: \"danger\",\n  color: void 0,\n  message: \"\",\n  onClose: void 0,\n  onClick: void 0,\n  onOpened: void 0,\n  duration: 3e3,\n  position: void 0,\n  className: \"\",\n  lockScroll: false,\n  background: void 0\n});\nlet currentOptions = getDefaultOptions();\nconst closeNotify = () => {\n  if (instance) {\n    instance.toggle(false);\n  }\n};\nfunction showNotify(options) {\n  if (!inBrowser) {\n    return;\n  }\n  if (!instance) {\n    initInstance();\n  }\n  options = extend({}, currentOptions, parseOptions(options));\n  instance.open(options);\n  clearTimeout(timer);\n  if (options.duration > 0) {\n    timer = setTimeout(closeNotify, options.duration);\n  }\n  return instance;\n}\nconst setNotifyDefaultOptions = options => extend(currentOptions, options);\nconst resetNotifyDefaultOptions = () => {\n  currentOptions = getDefaultOptions();\n};\nexport { closeNotify, resetNotifyDefaultOptions, setNotifyDefaultOptions, showNotify };","map":{"version":3,"names":["createVNode","_createVNode","mergeProps","_mergeProps","extend","isObject","inBrowser","mountComponent","usePopupState","VanNotify","timer","instance","parseOptions","message","initInstance","setup","state","toggle","getDefaultOptions","type","color","onClose","onClick","onOpened","duration","position","className","lockScroll","background","currentOptions","closeNotify","showNotify","options","open","clearTimeout","setTimeout","setNotifyDefaultOptions","resetNotifyDefaultOptions"],"sources":["C:/Users/yangp/Desktop/01-xiaoms/node_modules/vant/es/notify/function-call.mjs"],"sourcesContent":["import { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\r\nimport { extend, isObject, inBrowser } from \"../utils/index.mjs\";\r\nimport { mountComponent, usePopupState } from \"../utils/mount-component.mjs\";\r\nimport VanNotify from \"./Notify.mjs\";\r\nlet timer;\r\nlet instance;\r\nconst parseOptions = (message) => isObject(message) ? message : {\r\n  message\r\n};\r\nfunction initInstance() {\r\n  ({\r\n    instance\r\n  } = mountComponent({\r\n    setup() {\r\n      const {\r\n        state,\r\n        toggle\r\n      } = usePopupState();\r\n      return () => _createVNode(VanNotify, _mergeProps(state, {\r\n        \"onUpdate:show\": toggle\r\n      }), null);\r\n    }\r\n  }));\r\n}\r\nconst getDefaultOptions = () => ({\r\n  type: \"danger\",\r\n  color: void 0,\r\n  message: \"\",\r\n  onClose: void 0,\r\n  onClick: void 0,\r\n  onOpened: void 0,\r\n  duration: 3e3,\r\n  position: void 0,\r\n  className: \"\",\r\n  lockScroll: false,\r\n  background: void 0\r\n});\r\nlet currentOptions = getDefaultOptions();\r\nconst closeNotify = () => {\r\n  if (instance) {\r\n    instance.toggle(false);\r\n  }\r\n};\r\nfunction showNotify(options) {\r\n  if (!inBrowser) {\r\n    return;\r\n  }\r\n  if (!instance) {\r\n    initInstance();\r\n  }\r\n  options = extend({}, currentOptions, parseOptions(options));\r\n  instance.open(options);\r\n  clearTimeout(timer);\r\n  if (options.duration > 0) {\r\n    timer = setTimeout(closeNotify, options.duration);\r\n  }\r\n  return instance;\r\n}\r\nconst setNotifyDefaultOptions = (options) => extend(currentOptions, options);\r\nconst resetNotifyDefaultOptions = () => {\r\n  currentOptions = getDefaultOptions();\r\n};\r\nexport {\r\n  closeNotify,\r\n  resetNotifyDefaultOptions,\r\n  setNotifyDefaultOptions,\r\n  showNotify\r\n};\r\n"],"mappings":"AAAA,SAASA,WAAW,IAAIC,YAAY,EAAEC,UAAU,IAAIC,WAAW,QAAQ,KAAK;AAC5E,SAASC,MAAM,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,oBAAoB;AAChE,SAASC,cAAc,EAAEC,aAAa,QAAQ,8BAA8B;AAC5E,OAAOC,SAAS,MAAM,cAAc;AACpC,IAAIC,KAAK;AACT,IAAIC,QAAQ;AACZ,MAAMC,YAAY,GAAIC,OAAO,IAAKR,QAAQ,CAACQ,OAAO,CAAC,GAAGA,OAAO,GAAG;EAC9DA;AACF,CAAC;AACD,SAASC,YAAY,GAAG;EACtB,CAAC;IACCH;EACF,CAAC,GAAGJ,cAAc,CAAC;IACjBQ,KAAK,GAAG;MACN,MAAM;QACJC,KAAK;QACLC;MACF,CAAC,GAAGT,aAAa,EAAE;MACnB,OAAO,MAAMP,YAAY,CAACQ,SAAS,EAAEN,WAAW,CAACa,KAAK,EAAE;QACtD,eAAe,EAAEC;MACnB,CAAC,CAAC,EAAE,IAAI,CAAC;IACX;EACF,CAAC,CAAC;AACJ;AACA,MAAMC,iBAAiB,GAAG,OAAO;EAC/BC,IAAI,EAAE,QAAQ;EACdC,KAAK,EAAE,KAAK,CAAC;EACbP,OAAO,EAAE,EAAE;EACXQ,OAAO,EAAE,KAAK,CAAC;EACfC,OAAO,EAAE,KAAK,CAAC;EACfC,QAAQ,EAAE,KAAK,CAAC;EAChBC,QAAQ,EAAE,GAAG;EACbC,QAAQ,EAAE,KAAK,CAAC;EAChBC,SAAS,EAAE,EAAE;EACbC,UAAU,EAAE,KAAK;EACjBC,UAAU,EAAE,KAAK;AACnB,CAAC,CAAC;AACF,IAAIC,cAAc,GAAGX,iBAAiB,EAAE;AACxC,MAAMY,WAAW,GAAG,MAAM;EACxB,IAAInB,QAAQ,EAAE;IACZA,QAAQ,CAACM,MAAM,CAAC,KAAK,CAAC;EACxB;AACF,CAAC;AACD,SAASc,UAAU,CAACC,OAAO,EAAE;EAC3B,IAAI,CAAC1B,SAAS,EAAE;IACd;EACF;EACA,IAAI,CAACK,QAAQ,EAAE;IACbG,YAAY,EAAE;EAChB;EACAkB,OAAO,GAAG5B,MAAM,CAAC,CAAC,CAAC,EAAEyB,cAAc,EAAEjB,YAAY,CAACoB,OAAO,CAAC,CAAC;EAC3DrB,QAAQ,CAACsB,IAAI,CAACD,OAAO,CAAC;EACtBE,YAAY,CAACxB,KAAK,CAAC;EACnB,IAAIsB,OAAO,CAACR,QAAQ,GAAG,CAAC,EAAE;IACxBd,KAAK,GAAGyB,UAAU,CAACL,WAAW,EAAEE,OAAO,CAACR,QAAQ,CAAC;EACnD;EACA,OAAOb,QAAQ;AACjB;AACA,MAAMyB,uBAAuB,GAAIJ,OAAO,IAAK5B,MAAM,CAACyB,cAAc,EAAEG,OAAO,CAAC;AAC5E,MAAMK,yBAAyB,GAAG,MAAM;EACtCR,cAAc,GAAGX,iBAAiB,EAAE;AACtC,CAAC;AACD,SACEY,WAAW,EACXO,yBAAyB,EACzBD,uBAAuB,EACvBL,UAAU"},"metadata":{},"sourceType":"module"}