{"ast":null,"code":"import TopNav from \"@/components/xiaomengshu/AllCom/TopNav.vue\";\nimport { getUserPet } from \"@/api/xiaomengshu\";\nimport IndexBar from \"@/components/xiaomengshu/Illness/IndexBar.vue\";\nimport { showToast } from 'vant';\nexport default {\n  data() {\n    return {\n      pid: 0,\n      withChild: 0,\n      pet_type: {},\n      ageTime: new Array(),\n      pet_typeList: [],\n      showChoicepet_type: false,\n      showChoicepet_age: false\n    };\n  },\n  computed: {\n    ageString() {\n      return String(this.ageTime).replaceAll(',', '-');\n    }\n  },\n  methods: {\n    changescreen() {\n      let middleNav = document.querySelector(\".middle-nav\");\n      console.log(\"middleNav.offsetTop\", middleNav.offsetTop);\n      let ls = document.documentElement.clientHeight;\n      middleNav.style.minHeight = ls - middleNav.offsetTop + \"px\";\n    },\n    async choicePet_type() {\n      this.showChoicepet_type = true;\n      let res = await getUserPet({\n        do: 'GetPettype'\n      });\n      this.pet_typeList = res.list;\n    },\n    choicePet_age() {\n      this.showChoicepet_age = true;\n    },\n    changeAge({\n      selectedValues\n    }) {\n      this.ageTime = selectedValues;\n      this.showChoicepet_age = false;\n    },\n    confirm() {\n      if (this.pid === 0) {\n        showToast({\n          message: '小主，请选择宠物类型~',\n          position: 'bottom'\n        });\n      }\n    }\n  },\n  mounted() {\n    this.changescreen();\n  },\n  components: {\n    TopNav,\n    IndexBar\n  }\n};","map":{"version":3,"mappings":"AAyEA,OAAOA,MAAK,MAAO,4CAA4C;AAC/D,SAASC,UAAS,QAAS,mBAAkB;AAC7C,OAAOC,QAAO,MAAO,+CAA8C;AACnE,SAASC,SAAQ,QAAS,MAAM;AAChC,eAAe;EACXC,IAAI,GAAG;IACH,OAAO;MACHC,GAAG,EAAE,CAAC;MACNC,SAAS,EAAE,CAAC;MACZC,QAAQ,EAAE,CAAC,CAAC;MACZC,OAAO,EAAE,IAAIC,KAAK;MAClBC,YAAY,EAAE,EAAE;MAChBC,kBAAkB,EAAE,KAAK;MACzBC,iBAAiB,EAAE;IACvB;EACJ,CAAC;EACDC,QAAQ,EAAE;IACNC,SAAS,GAAG;MACR,OAAOC,MAAM,CAAC,IAAI,CAACP,OAAO,CAAC,CAACQ,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC;IACpD;EACJ,CAAC;EACDC,OAAO,EAAE;IACLC,YAAY,GAAG;MACX,IAAIC,SAAQ,GAAIC,QAAQ,CAACC,aAAa,CAAC,aAAa,CAAC;MACrDC,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEJ,SAAS,CAACK,SAAS,CAAC;MACvD,IAAIC,EAAC,GAAIL,QAAQ,CAACM,eAAe,CAACC,YAAY;MAC9CR,SAAS,CAACS,KAAK,CAACC,SAAQ,GAAIJ,EAAC,GAAIN,SAAS,CAACK,SAAQ,GAAI,IAAI;IAC/D,CAAC;IACD,MAAMM,cAAc,GAAG;MACnB,IAAI,CAACnB,kBAAiB,GAAI,IAAI;MAC9B,IAAIoB,GAAE,GAAI,MAAM9B,UAAU,CAAC;QAAE+B,EAAE,EAAE;MAAa,CAAC,CAAC;MAChD,IAAI,CAACtB,YAAW,GAAIqB,GAAG,CAACE,IAAI;IAChC,CAAC;IACDC,aAAa,GAAG;MACZ,IAAI,CAACtB,iBAAgB,GAAI,IAAI;IACjC,CAAC;IACDuB,SAAS,CAAC;MAAEC;IAAe,CAAC,EAAE;MAC1B,IAAI,CAAC5B,OAAM,GAAI4B,cAAa;MAC5B,IAAI,CAACxB,iBAAgB,GAAI,KAAI;IACjC,CAAC;IACDyB,OAAO,GAAG;MACN,IAAI,IAAI,CAAChC,GAAE,KAAM,CAAC,EAAE;QAChBF,SAAS,CAAC;UACNmC,OAAO,EAAE,aAAa;UACtBC,QAAQ,EAAE;QACd,CAAC,CAAC;MACN;IACJ;EACJ,CAAC;EACDC,OAAO,GAAG;IAEN,IAAI,CAACtB,YAAY,EAAE;EAEvB,CAAC;EACDuB,UAAU,EAAE;IACRzC,MAAM;IAAEE;EACZ;AACJ","names":["TopNav","getUserPet","IndexBar","showToast","data","pid","withChild","pet_type","ageTime","Array","pet_typeList","showChoicepet_type","showChoicepet_age","computed","ageString","String","replaceAll","methods","changescreen","middleNav","document","querySelector","console","log","offsetTop","ls","documentElement","clientHeight","style","minHeight","choicePet_type","res","do","list","choicePet_age","changeAge","selectedValues","confirm","message","position","mounted","components"],"sourceRoot":"","sources":["C:\\Code\\VScode\\VUE\\项目\\01-xiaoms\\src\\views\\xiaomengshu\\ToolView\\Wormer\\WormerMain.vue"],"sourcesContent":["<template>\r\n    <div class=\"wormer\">\r\n        <top-nav :Toptitle=\"'驱虫选药'\"></top-nav>\r\n        <img class=\"top-img\"\r\n            src=\"https://img0.baidu.com/it/u=2254229948,758131803&fm=253&fmt=auto&app=138&f=JPEG?w=700&h=350\" alt=\".\">\r\n        <nav class=\"middle-nav\">\r\n            <van-form label-width=\"6rem\" input-align=\"left\">\r\n                <van-cell-group inset>\r\n                    <h3>请输入宠物信息</h3>\r\n                    <van-field name=\"宠物类型：\" label=\"宠物类型：\" label-width=\"70px\">\r\n                        <template #input>\r\n                            <div>\r\n                                <van-radio-group v-model=\"pid\" direction=\"horizontal\" icon-size=\"1.3rem\"\r\n                                    checked-color=\"#41c856\">\r\n                                    <van-radio name=\"1\">\r\n                                        狗狗\r\n                                    </van-radio>\r\n                                    <van-radio name=\"2\">\r\n                                        猫猫\r\n                                    </van-radio>\r\n                                </van-radio-group>\r\n                            </div>\r\n                        </template>\r\n                    </van-field>\r\n                    <van-field v-if=\"pid == 1\" @click=\"choicePet_type\" readonly v-model=\"pet_type.name\" label=\"宠物品种\"\r\n                        placeholder=\"请选择宠物品种\" />\r\n                    <van-field @click=\"choicePet_age\" readonly v-model=\"ageString\" label=\"出生日期\" placeholder=\"请选择宠物年龄\" />\r\n                    <van-field label=\"是否怀孕：\" label-width=\"70px\">\r\n                        <template #input>\r\n                            <div>\r\n                                <van-radio-group v-model=\"withChild\" direction=\"horizontal\" icon-size=\"1.3rem\"\r\n                                    checked-color=\"#41c856\">\r\n                                    <van-radio :name=\"true\">\r\n                                        是\r\n                                    </van-radio>\r\n                                    <van-radio :name=\"false\">\r\n                                        否\r\n                                    </van-radio>\r\n                                </van-radio-group>\r\n                            </div>\r\n                        </template>\r\n                    </van-field>\r\n\r\n                </van-cell-group>\r\n            </van-form>\r\n\r\n            <van-button class=\"confirmBtn\" round type=\"primary\" color=\"#41c856\" @click=\"confirm\">确定</van-button>\r\n            <i>推荐的药品仅供参考，如有需要咨询兽医</i>\r\n        </nav>\r\n        <!-- 写dialog的div -->\r\n        <div>\r\n            <van-popup class=\"pet_typeClass\" v-model:show=\"showChoicepet_type\" position=\"bottom\" round\r\n                :style=\"{ height: '60%' }\">\r\n                <div class=\"top\">\r\n                    <h2>选择宠物品种</h2>\r\n                    <hr>\r\n                </div>\r\n\r\n                <div class=\"choice\">\r\n                    <index-bar v-model:isShow=\"showChoicepet_type\" v-model:bacObj=\"pet_type\"\r\n                        :choicelist=\"pet_typeList\"></index-bar>\r\n                </div>\r\n            </van-popup>\r\n            <van-popup class=\"ageClass\" v-model:show=\"showChoicepet_age\" position=\"bottom\" round\r\n                :style=\"{ height: '60%' }\">\r\n                <van-date-picker @cancel=\"this.showChoicepet_age = false\" @confirm=\"changeAge\" v-model=\"ageTime\"\r\n                    title=\"选择日期\" :max-date=\"new Date()\" />\r\n            </van-popup>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport TopNav from \"@/components/xiaomengshu/AllCom/TopNav.vue\";\r\nimport { getUserPet } from \"@/api/xiaomengshu\"\r\nimport IndexBar from \"@/components/xiaomengshu/Illness/IndexBar.vue\"\r\nimport { showToast } from 'vant';\r\nexport default {\r\n    data() {\r\n        return {\r\n            pid: 0,\r\n            withChild: 0,\r\n            pet_type: {},\r\n            ageTime: new Array,\r\n            pet_typeList: [],\r\n            showChoicepet_type: false,\r\n            showChoicepet_age: false,\r\n        }\r\n    },\r\n    computed: {\r\n        ageString() {\r\n            return String(this.ageTime).replaceAll(',', '-');\r\n        }\r\n    },\r\n    methods: {\r\n        changescreen() {\r\n            let middleNav = document.querySelector(\".middle-nav\");\r\n            console.log(\"middleNav.offsetTop\", middleNav.offsetTop);\r\n            let ls = document.documentElement.clientHeight;\r\n            middleNav.style.minHeight = ls - middleNav.offsetTop + \"px\";\r\n        },\r\n        async choicePet_type() {\r\n            this.showChoicepet_type = true;\r\n            let res = await getUserPet({ do: 'GetPettype' });\r\n            this.pet_typeList = res.list;\r\n        },\r\n        choicePet_age() {\r\n            this.showChoicepet_age = true;\r\n        },\r\n        changeAge({ selectedValues }) {\r\n            this.ageTime = selectedValues\r\n            this.showChoicepet_age = false\r\n        },\r\n        confirm() {\r\n            if (this.pid === 0) {\r\n                showToast({\r\n                    message: '小主，请选择宠物类型~',\r\n                    position: 'bottom',\r\n                });\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n\r\n        this.changescreen();\r\n\r\n    },\r\n    components: {\r\n        TopNav, IndexBar\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.wormer {\r\n\r\n    .top-img {\r\n        width: 100%;\r\n        vertical-align: middle;\r\n    }\r\n\r\n    .middle-nav {\r\n        box-sizing: border-box;\r\n        padding: 3% 5%;\r\n        background-color: white;\r\n\r\n        &>p {\r\n            margin-top: 0;\r\n            font-size: 1.5rem;\r\n\r\n        }\r\n    }\r\n\r\n    .confirmBtn {\r\n        width: 60%;\r\n        display: block;\r\n        margin: 10px auto;\r\n\r\n    }\r\n\r\n    ::v-deep .pet_typeClass {\r\n        text-align: center;\r\n        padding: 0 16px;\r\n        box-sizing: border-box;\r\n        display: flex;\r\n        flex-flow: column;\r\n\r\n        .top {\r\n            h2 {\r\n                text-align: center;\r\n            }\r\n        }\r\n\r\n        .choice {\r\n            flex-grow: 1;\r\n            height: 0;\r\n        }\r\n\r\n    }\r\n\r\n    i {\r\n        text-align: center;\r\n        display: block;\r\n        margin: auto;\r\n    }\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}