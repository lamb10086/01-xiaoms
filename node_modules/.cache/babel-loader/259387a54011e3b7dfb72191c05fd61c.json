{"ast":null,"code":"import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { watch, onMounted, onUnmounted, defineComponent } from \"vue\";\nimport { pick, isDef, unknownProp, numericProp, makeStringProp, makeNumberProp, createNamespace } from \"../utils/index.mjs\";\nimport { lockClick } from \"./lock-click.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Popup } from \"../popup/index.mjs\";\nimport { Loading } from \"../loading/index.mjs\";\nconst [name, bem] = createNamespace(\"toast\");\nconst popupInheritProps = [\"show\", \"overlay\", \"teleport\", \"transition\", \"overlayClass\", \"overlayStyle\", \"closeOnClickOverlay\"];\nconst toastProps = {\n  icon: String,\n  show: Boolean,\n  type: makeStringProp(\"text\"),\n  overlay: Boolean,\n  message: numericProp,\n  iconSize: numericProp,\n  duration: makeNumberProp(2e3),\n  position: makeStringProp(\"middle\"),\n  teleport: [String, Object],\n  wordBreak: String,\n  className: unknownProp,\n  iconPrefix: String,\n  transition: makeStringProp(\"van-fade\"),\n  loadingType: String,\n  forbidClick: Boolean,\n  overlayClass: unknownProp,\n  overlayStyle: Object,\n  closeOnClick: Boolean,\n  closeOnClickOverlay: Boolean\n};\nvar stdin_default = defineComponent({\n  name,\n  props: toastProps,\n  emits: [\"update:show\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    let timer;\n    let clickable = false;\n    const toggleClickable = () => {\n      const newValue = props.show && props.forbidClick;\n      if (clickable !== newValue) {\n        clickable = newValue;\n        lockClick(clickable);\n      }\n    };\n    const updateShow = show => emit(\"update:show\", show);\n    const onClick = () => {\n      if (props.closeOnClick) {\n        updateShow(false);\n      }\n    };\n    const clearTimer = () => clearTimeout(timer);\n    const renderIcon = () => {\n      const {\n        icon,\n        type,\n        iconSize,\n        iconPrefix,\n        loadingType\n      } = props;\n      const hasIcon = icon || type === \"success\" || type === \"fail\";\n      if (hasIcon) {\n        return _createVNode(Icon, {\n          \"name\": icon || type,\n          \"size\": iconSize,\n          \"class\": bem(\"icon\"),\n          \"classPrefix\": iconPrefix\n        }, null);\n      }\n      if (type === \"loading\") {\n        return _createVNode(Loading, {\n          \"class\": bem(\"loading\"),\n          \"size\": iconSize,\n          \"type\": loadingType\n        }, null);\n      }\n    };\n    const renderMessage = () => {\n      const {\n        type,\n        message\n      } = props;\n      if (slots.message) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"text\")\n        }, [slots.message()]);\n      }\n      if (isDef(message) && message !== \"\") {\n        return type === \"html\" ? _createVNode(\"div\", {\n          \"key\": 0,\n          \"class\": bem(\"text\"),\n          \"innerHTML\": String(message)\n        }, null) : _createVNode(\"div\", {\n          \"class\": bem(\"text\")\n        }, [message]);\n      }\n    };\n    watch(() => [props.show, props.forbidClick], toggleClickable);\n    watch(() => [props.show, props.type, props.message, props.duration], () => {\n      clearTimer();\n      if (props.show && props.duration > 0) {\n        timer = setTimeout(() => {\n          updateShow(false);\n        }, props.duration);\n      }\n    });\n    onMounted(toggleClickable);\n    onUnmounted(toggleClickable);\n    return () => _createVNode(Popup, _mergeProps({\n      \"class\": [bem([props.position, props.wordBreak === \"normal\" ? \"break-normal\" : props.wordBreak, {\n        [props.type]: !props.icon\n      }]), props.className],\n      \"lockScroll\": false,\n      \"onClick\": onClick,\n      \"onClosed\": clearTimer,\n      \"onUpdate:show\": updateShow\n    }, pick(props, popupInheritProps)), {\n      default: () => [renderIcon(), renderMessage()]\n    });\n  }\n});\nexport { stdin_default as default, toastProps };","map":{"version":3,"names":["mergeProps","_mergeProps","createVNode","_createVNode","watch","onMounted","onUnmounted","defineComponent","pick","isDef","unknownProp","numericProp","makeStringProp","makeNumberProp","createNamespace","lockClick","Icon","Popup","Loading","name","bem","popupInheritProps","toastProps","icon","String","show","Boolean","type","overlay","message","iconSize","duration","position","teleport","Object","wordBreak","className","iconPrefix","transition","loadingType","forbidClick","overlayClass","overlayStyle","closeOnClick","closeOnClickOverlay","stdin_default","props","emits","setup","emit","slots","timer","clickable","toggleClickable","newValue","updateShow","onClick","clearTimer","clearTimeout","renderIcon","hasIcon","renderMessage","setTimeout","default"],"sources":["C:/Users/yangp/Desktop/01-xiaoms/node_modules/vant/es/toast/Toast.mjs"],"sourcesContent":["import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\r\nimport { watch, onMounted, onUnmounted, defineComponent } from \"vue\";\r\nimport { pick, isDef, unknownProp, numericProp, makeStringProp, makeNumberProp, createNamespace } from \"../utils/index.mjs\";\r\nimport { lockClick } from \"./lock-click.mjs\";\r\nimport { Icon } from \"../icon/index.mjs\";\r\nimport { Popup } from \"../popup/index.mjs\";\r\nimport { Loading } from \"../loading/index.mjs\";\r\nconst [name, bem] = createNamespace(\"toast\");\r\nconst popupInheritProps = [\"show\", \"overlay\", \"teleport\", \"transition\", \"overlayClass\", \"overlayStyle\", \"closeOnClickOverlay\"];\r\nconst toastProps = {\r\n  icon: String,\r\n  show: Boolean,\r\n  type: makeStringProp(\"text\"),\r\n  overlay: Boolean,\r\n  message: numericProp,\r\n  iconSize: numericProp,\r\n  duration: makeNumberProp(2e3),\r\n  position: makeStringProp(\"middle\"),\r\n  teleport: [String, Object],\r\n  wordBreak: String,\r\n  className: unknownProp,\r\n  iconPrefix: String,\r\n  transition: makeStringProp(\"van-fade\"),\r\n  loadingType: String,\r\n  forbidClick: Boolean,\r\n  overlayClass: unknownProp,\r\n  overlayStyle: Object,\r\n  closeOnClick: Boolean,\r\n  closeOnClickOverlay: Boolean\r\n};\r\nvar stdin_default = defineComponent({\r\n  name,\r\n  props: toastProps,\r\n  emits: [\"update:show\"],\r\n  setup(props, {\r\n    emit,\r\n    slots\r\n  }) {\r\n    let timer;\r\n    let clickable = false;\r\n    const toggleClickable = () => {\r\n      const newValue = props.show && props.forbidClick;\r\n      if (clickable !== newValue) {\r\n        clickable = newValue;\r\n        lockClick(clickable);\r\n      }\r\n    };\r\n    const updateShow = (show) => emit(\"update:show\", show);\r\n    const onClick = () => {\r\n      if (props.closeOnClick) {\r\n        updateShow(false);\r\n      }\r\n    };\r\n    const clearTimer = () => clearTimeout(timer);\r\n    const renderIcon = () => {\r\n      const {\r\n        icon,\r\n        type,\r\n        iconSize,\r\n        iconPrefix,\r\n        loadingType\r\n      } = props;\r\n      const hasIcon = icon || type === \"success\" || type === \"fail\";\r\n      if (hasIcon) {\r\n        return _createVNode(Icon, {\r\n          \"name\": icon || type,\r\n          \"size\": iconSize,\r\n          \"class\": bem(\"icon\"),\r\n          \"classPrefix\": iconPrefix\r\n        }, null);\r\n      }\r\n      if (type === \"loading\") {\r\n        return _createVNode(Loading, {\r\n          \"class\": bem(\"loading\"),\r\n          \"size\": iconSize,\r\n          \"type\": loadingType\r\n        }, null);\r\n      }\r\n    };\r\n    const renderMessage = () => {\r\n      const {\r\n        type,\r\n        message\r\n      } = props;\r\n      if (slots.message) {\r\n        return _createVNode(\"div\", {\r\n          \"class\": bem(\"text\")\r\n        }, [slots.message()]);\r\n      }\r\n      if (isDef(message) && message !== \"\") {\r\n        return type === \"html\" ? _createVNode(\"div\", {\r\n          \"key\": 0,\r\n          \"class\": bem(\"text\"),\r\n          \"innerHTML\": String(message)\r\n        }, null) : _createVNode(\"div\", {\r\n          \"class\": bem(\"text\")\r\n        }, [message]);\r\n      }\r\n    };\r\n    watch(() => [props.show, props.forbidClick], toggleClickable);\r\n    watch(() => [props.show, props.type, props.message, props.duration], () => {\r\n      clearTimer();\r\n      if (props.show && props.duration > 0) {\r\n        timer = setTimeout(() => {\r\n          updateShow(false);\r\n        }, props.duration);\r\n      }\r\n    });\r\n    onMounted(toggleClickable);\r\n    onUnmounted(toggleClickable);\r\n    return () => _createVNode(Popup, _mergeProps({\r\n      \"class\": [bem([props.position, props.wordBreak === \"normal\" ? \"break-normal\" : props.wordBreak, {\r\n        [props.type]: !props.icon\r\n      }]), props.className],\r\n      \"lockScroll\": false,\r\n      \"onClick\": onClick,\r\n      \"onClosed\": clearTimer,\r\n      \"onUpdate:show\": updateShow\r\n    }, pick(props, popupInheritProps)), {\r\n      default: () => [renderIcon(), renderMessage()]\r\n    });\r\n  }\r\n});\r\nexport {\r\n  stdin_default as default,\r\n  toastProps\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}