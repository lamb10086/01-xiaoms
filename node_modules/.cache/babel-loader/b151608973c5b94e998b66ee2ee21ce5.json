{"ast":null,"code":"import { useRect, useWindowSize } from \"@vant/use\";\nimport { unref } from \"vue\";\nimport { isIOS as checkIsIOS } from \"./validate.mjs\";\nfunction getScrollTop(el) {\n  const top = \"scrollTop\" in el ? el.scrollTop : el.pageYOffset;\n  return Math.max(top, 0);\n}\nfunction setScrollTop(el, value) {\n  if (\"scrollTop\" in el) {\n    el.scrollTop = value;\n  } else {\n    el.scrollTo(el.scrollX, value);\n  }\n}\nfunction getRootScrollTop() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n}\nfunction setRootScrollTop(value) {\n  setScrollTop(window, value);\n  setScrollTop(document.body, value);\n}\nfunction getElementTop(el, scroller) {\n  if (el === window) {\n    return 0;\n  }\n  const scrollTop = scroller ? getScrollTop(scroller) : getRootScrollTop();\n  return useRect(el).top + scrollTop;\n}\nconst isIOS = checkIsIOS();\nfunction resetScroll() {\n  if (isIOS) {\n    setRootScrollTop(getRootScrollTop());\n  }\n}\nconst stopPropagation = event => event.stopPropagation();\nfunction preventDefault(event, isStopPropagation) {\n  if (typeof event.cancelable !== \"boolean\" || event.cancelable) {\n    event.preventDefault();\n  }\n  if (isStopPropagation) {\n    stopPropagation(event);\n  }\n}\nfunction isHidden(elementRef) {\n  const el = unref(elementRef);\n  if (!el) {\n    return false;\n  }\n  const style = window.getComputedStyle(el);\n  const hidden = style.display === \"none\";\n  const parentHidden = el.offsetParent === null && style.position !== \"fixed\";\n  return hidden || parentHidden;\n}\nconst {\n  width: windowWidth,\n  height: windowHeight\n} = useWindowSize();\nexport { getElementTop, getRootScrollTop, getScrollTop, isHidden, preventDefault, resetScroll, setRootScrollTop, setScrollTop, stopPropagation, windowHeight, windowWidth };","map":{"version":3,"names":["useRect","useWindowSize","unref","isIOS","checkIsIOS","getScrollTop","el","top","scrollTop","pageYOffset","Math","max","setScrollTop","value","scrollTo","scrollX","getRootScrollTop","window","document","documentElement","body","setRootScrollTop","getElementTop","scroller","resetScroll","stopPropagation","event","preventDefault","isStopPropagation","cancelable","isHidden","elementRef","style","getComputedStyle","hidden","display","parentHidden","offsetParent","position","width","windowWidth","height","windowHeight"],"sources":["C:/Users/yangp/Desktop/01-xiaoms/node_modules/vant/es/utils/dom.mjs"],"sourcesContent":["import { useRect, useWindowSize } from \"@vant/use\";\nimport { unref } from \"vue\";\nimport { isIOS as checkIsIOS } from \"./validate.mjs\";\nfunction getScrollTop(el) {\n  const top = \"scrollTop\" in el ? el.scrollTop : el.pageYOffset;\n  return Math.max(top, 0);\n}\nfunction setScrollTop(el, value) {\n  if (\"scrollTop\" in el) {\n    el.scrollTop = value;\n  } else {\n    el.scrollTo(el.scrollX, value);\n  }\n}\nfunction getRootScrollTop() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n}\nfunction setRootScrollTop(value) {\n  setScrollTop(window, value);\n  setScrollTop(document.body, value);\n}\nfunction getElementTop(el, scroller) {\n  if (el === window) {\n    return 0;\n  }\n  const scrollTop = scroller ? getScrollTop(scroller) : getRootScrollTop();\n  return useRect(el).top + scrollTop;\n}\nconst isIOS = checkIsIOS();\nfunction resetScroll() {\n  if (isIOS) {\n    setRootScrollTop(getRootScrollTop());\n  }\n}\nconst stopPropagation = (event) => event.stopPropagation();\nfunction preventDefault(event, isStopPropagation) {\n  if (typeof event.cancelable !== \"boolean\" || event.cancelable) {\n    event.preventDefault();\n  }\n  if (isStopPropagation) {\n    stopPropagation(event);\n  }\n}\nfunction isHidden(elementRef) {\n  const el = unref(elementRef);\n  if (!el) {\n    return false;\n  }\n  const style = window.getComputedStyle(el);\n  const hidden = style.display === \"none\";\n  const parentHidden = el.offsetParent === null && style.position !== \"fixed\";\n  return hidden || parentHidden;\n}\nconst { width: windowWidth, height: windowHeight } = useWindowSize();\nexport {\n  getElementTop,\n  getRootScrollTop,\n  getScrollTop,\n  isHidden,\n  preventDefault,\n  resetScroll,\n  setRootScrollTop,\n  setScrollTop,\n  stopPropagation,\n  windowHeight,\n  windowWidth\n};\n"],"mappings":"AAAA,SAASA,OAAO,EAAEC,aAAa,QAAQ,WAAW;AAClD,SAASC,KAAK,QAAQ,KAAK;AAC3B,SAASC,KAAK,IAAIC,UAAU,QAAQ,gBAAgB;AACpD,SAASC,YAAY,CAACC,EAAE,EAAE;EACxB,MAAMC,GAAG,GAAG,WAAW,IAAID,EAAE,GAAGA,EAAE,CAACE,SAAS,GAAGF,EAAE,CAACG,WAAW;EAC7D,OAAOC,IAAI,CAACC,GAAG,CAACJ,GAAG,EAAE,CAAC,CAAC;AACzB;AACA,SAASK,YAAY,CAACN,EAAE,EAAEO,KAAK,EAAE;EAC/B,IAAI,WAAW,IAAIP,EAAE,EAAE;IACrBA,EAAE,CAACE,SAAS,GAAGK,KAAK;EACtB,CAAC,MAAM;IACLP,EAAE,CAACQ,QAAQ,CAACR,EAAE,CAACS,OAAO,EAAEF,KAAK,CAAC;EAChC;AACF;AACA,SAASG,gBAAgB,GAAG;EAC1B,OAAOC,MAAM,CAACR,WAAW,IAAIS,QAAQ,CAACC,eAAe,CAACX,SAAS,IAAIU,QAAQ,CAACE,IAAI,CAACZ,SAAS,IAAI,CAAC;AACjG;AACA,SAASa,gBAAgB,CAACR,KAAK,EAAE;EAC/BD,YAAY,CAACK,MAAM,EAAEJ,KAAK,CAAC;EAC3BD,YAAY,CAACM,QAAQ,CAACE,IAAI,EAAEP,KAAK,CAAC;AACpC;AACA,SAASS,aAAa,CAAChB,EAAE,EAAEiB,QAAQ,EAAE;EACnC,IAAIjB,EAAE,KAAKW,MAAM,EAAE;IACjB,OAAO,CAAC;EACV;EACA,MAAMT,SAAS,GAAGe,QAAQ,GAAGlB,YAAY,CAACkB,QAAQ,CAAC,GAAGP,gBAAgB,EAAE;EACxE,OAAOhB,OAAO,CAACM,EAAE,CAAC,CAACC,GAAG,GAAGC,SAAS;AACpC;AACA,MAAML,KAAK,GAAGC,UAAU,EAAE;AAC1B,SAASoB,WAAW,GAAG;EACrB,IAAIrB,KAAK,EAAE;IACTkB,gBAAgB,CAACL,gBAAgB,EAAE,CAAC;EACtC;AACF;AACA,MAAMS,eAAe,GAAIC,KAAK,IAAKA,KAAK,CAACD,eAAe,EAAE;AAC1D,SAASE,cAAc,CAACD,KAAK,EAAEE,iBAAiB,EAAE;EAChD,IAAI,OAAOF,KAAK,CAACG,UAAU,KAAK,SAAS,IAAIH,KAAK,CAACG,UAAU,EAAE;IAC7DH,KAAK,CAACC,cAAc,EAAE;EACxB;EACA,IAAIC,iBAAiB,EAAE;IACrBH,eAAe,CAACC,KAAK,CAAC;EACxB;AACF;AACA,SAASI,QAAQ,CAACC,UAAU,EAAE;EAC5B,MAAMzB,EAAE,GAAGJ,KAAK,CAAC6B,UAAU,CAAC;EAC5B,IAAI,CAACzB,EAAE,EAAE;IACP,OAAO,KAAK;EACd;EACA,MAAM0B,KAAK,GAAGf,MAAM,CAACgB,gBAAgB,CAAC3B,EAAE,CAAC;EACzC,MAAM4B,MAAM,GAAGF,KAAK,CAACG,OAAO,KAAK,MAAM;EACvC,MAAMC,YAAY,GAAG9B,EAAE,CAAC+B,YAAY,KAAK,IAAI,IAAIL,KAAK,CAACM,QAAQ,KAAK,OAAO;EAC3E,OAAOJ,MAAM,IAAIE,YAAY;AAC/B;AACA,MAAM;EAAEG,KAAK,EAAEC,WAAW;EAAEC,MAAM,EAAEC;AAAa,CAAC,GAAGzC,aAAa,EAAE;AACpE,SACEqB,aAAa,EACbN,gBAAgB,EAChBX,YAAY,EACZyB,QAAQ,EACRH,cAAc,EACdH,WAAW,EACXH,gBAAgB,EAChBT,YAAY,EACZa,eAAe,EACfiB,YAAY,EACZF,WAAW"},"metadata":{},"sourceType":"module"}