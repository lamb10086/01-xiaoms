{"ast":null,"code":"import { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\nimport { ref, watch, computed, defineComponent } from \"vue\";\nimport { pick, isDate, truthProp, numericProp, getScrollTop, makeStringProp, makeNumericProp } from \"../utils/index.mjs\";\nimport { t, bem, name, getToday, cloneDate, cloneDates, getPrevDay, getNextDay, compareDay, calcDateNum, compareMonth, getDayByOffset } from \"./utils.mjs\";\nimport { raf, useRect, onMountedOrActivated } from \"@vant/use\";\nimport { useRefs } from \"../composables/use-refs.mjs\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { Popup } from \"../popup/index.mjs\";\nimport { Button } from \"../button/index.mjs\";\nimport { showToast } from \"../toast/index.mjs\";\nimport CalendarMonth from \"./CalendarMonth.mjs\";\nimport CalendarHeader from \"./CalendarHeader.mjs\";\nconst calendarProps = {\n  show: Boolean,\n  type: makeStringProp(\"single\"),\n  title: String,\n  color: String,\n  round: truthProp,\n  readonly: Boolean,\n  poppable: truthProp,\n  maxRange: makeNumericProp(null),\n  position: makeStringProp(\"bottom\"),\n  teleport: [String, Object],\n  showMark: truthProp,\n  showTitle: truthProp,\n  formatter: Function,\n  rowHeight: numericProp,\n  confirmText: String,\n  rangePrompt: String,\n  lazyRender: truthProp,\n  showConfirm: truthProp,\n  defaultDate: [Date, Array],\n  allowSameDay: Boolean,\n  showSubtitle: truthProp,\n  closeOnPopstate: truthProp,\n  showRangePrompt: truthProp,\n  confirmDisabledText: String,\n  closeOnClickOverlay: truthProp,\n  safeAreaInsetTop: Boolean,\n  safeAreaInsetBottom: truthProp,\n  minDate: {\n    type: Date,\n    validator: isDate,\n    default: getToday\n  },\n  maxDate: {\n    type: Date,\n    validator: isDate,\n    default: () => {\n      const now = getToday();\n      return new Date(now.getFullYear(), now.getMonth() + 6, now.getDate());\n    }\n  },\n  firstDayOfWeek: {\n    type: numericProp,\n    default: 0,\n    validator: val => val >= 0 && val <= 6\n  }\n};\nvar stdin_default = defineComponent({\n  name,\n  props: calendarProps,\n  emits: [\"select\", \"confirm\", \"unselect\", \"monthShow\", \"overRange\", \"update:show\", \"clickSubtitle\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const limitDateRange = (date, minDate = props.minDate, maxDate = props.maxDate) => {\n      if (compareDay(date, minDate) === -1) {\n        return minDate;\n      }\n      if (compareDay(date, maxDate) === 1) {\n        return maxDate;\n      }\n      return date;\n    };\n    const getInitialDate = (defaultDate = props.defaultDate) => {\n      const {\n        type,\n        minDate,\n        maxDate,\n        allowSameDay\n      } = props;\n      if (defaultDate === null) {\n        return defaultDate;\n      }\n      const now = getToday();\n      if (type === \"range\") {\n        if (!Array.isArray(defaultDate)) {\n          defaultDate = [];\n        }\n        const start = limitDateRange(defaultDate[0] || now, minDate, allowSameDay ? maxDate : getPrevDay(maxDate));\n        const end = limitDateRange(defaultDate[1] || now, allowSameDay ? minDate : getNextDay(minDate));\n        return [start, end];\n      }\n      if (type === \"multiple\") {\n        if (Array.isArray(defaultDate)) {\n          return defaultDate.map(date => limitDateRange(date));\n        }\n        return [limitDateRange(now)];\n      }\n      if (!defaultDate || Array.isArray(defaultDate)) {\n        defaultDate = now;\n      }\n      return limitDateRange(defaultDate);\n    };\n    let bodyHeight;\n    const bodyRef = ref();\n    const subtitle = ref({\n      text: \"\",\n      date: void 0\n    });\n    const currentDate = ref(getInitialDate());\n    const [monthRefs, setMonthRefs] = useRefs();\n    const dayOffset = computed(() => props.firstDayOfWeek ? +props.firstDayOfWeek % 7 : 0);\n    const months = computed(() => {\n      const months2 = [];\n      const cursor = new Date(props.minDate);\n      cursor.setDate(1);\n      do {\n        months2.push(new Date(cursor));\n        cursor.setMonth(cursor.getMonth() + 1);\n      } while (compareMonth(cursor, props.maxDate) !== 1);\n      return months2;\n    });\n    const buttonDisabled = computed(() => {\n      if (currentDate.value) {\n        if (props.type === \"range\") {\n          return !currentDate.value[0] || !currentDate.value[1];\n        }\n        if (props.type === \"multiple\") {\n          return !currentDate.value.length;\n        }\n      }\n      return !currentDate.value;\n    });\n    const getSelectedDate = () => currentDate.value;\n    const onScroll = () => {\n      const top = getScrollTop(bodyRef.value);\n      const bottom = top + bodyHeight;\n      const heights = months.value.map((item, index) => monthRefs.value[index].getHeight());\n      const heightSum = heights.reduce((a, b) => a + b, 0);\n      if (bottom > heightSum && top > 0) {\n        return;\n      }\n      let height = 0;\n      let currentMonth;\n      const visibleRange = [-1, -1];\n      for (let i = 0; i < months.value.length; i++) {\n        const month = monthRefs.value[i];\n        const visible = height <= bottom && height + heights[i] >= top;\n        if (visible) {\n          visibleRange[1] = i;\n          if (!currentMonth) {\n            currentMonth = month;\n            visibleRange[0] = i;\n          }\n          if (!monthRefs.value[i].showed) {\n            monthRefs.value[i].showed = true;\n            emit(\"monthShow\", {\n              date: month.date,\n              title: month.getTitle()\n            });\n          }\n        }\n        height += heights[i];\n      }\n      months.value.forEach((month, index) => {\n        const visible = index >= visibleRange[0] - 1 && index <= visibleRange[1] + 1;\n        monthRefs.value[index].setVisible(visible);\n      });\n      if (currentMonth) {\n        subtitle.value = {\n          text: currentMonth.getTitle(),\n          date: currentMonth.date\n        };\n      }\n    };\n    const scrollToDate = targetDate => {\n      raf(() => {\n        months.value.some((month, index) => {\n          if (compareMonth(month, targetDate) === 0) {\n            if (bodyRef.value) {\n              monthRefs.value[index].scrollToDate(bodyRef.value, targetDate);\n            }\n            return true;\n          }\n          return false;\n        });\n        onScroll();\n      });\n    };\n    const scrollToCurrentDate = () => {\n      if (props.poppable && !props.show) {\n        return;\n      }\n      if (currentDate.value) {\n        const targetDate = props.type === \"single\" ? currentDate.value : currentDate.value[0];\n        if (isDate(targetDate)) {\n          scrollToDate(targetDate);\n        }\n      } else {\n        raf(onScroll);\n      }\n    };\n    const init = () => {\n      if (props.poppable && !props.show) {\n        return;\n      }\n      raf(() => {\n        bodyHeight = Math.floor(useRect(bodyRef).height);\n      });\n      scrollToCurrentDate();\n    };\n    const reset = (date = getInitialDate()) => {\n      currentDate.value = date;\n      scrollToCurrentDate();\n    };\n    const checkRange = date => {\n      const {\n        maxRange,\n        rangePrompt,\n        showRangePrompt\n      } = props;\n      if (maxRange && calcDateNum(date) > maxRange) {\n        if (showRangePrompt) {\n          showToast(rangePrompt || t(\"rangePrompt\", maxRange));\n        }\n        emit(\"overRange\");\n        return false;\n      }\n      return true;\n    };\n    const onConfirm = () => {\n      var _a;\n      return emit(\"confirm\", (_a = currentDate.value) != null ? _a : cloneDates(currentDate.value));\n    };\n    const select = (date, complete) => {\n      const setCurrentDate = date2 => {\n        currentDate.value = date2;\n        emit(\"select\", cloneDates(date2));\n      };\n      if (complete && props.type === \"range\") {\n        const valid = checkRange(date);\n        if (!valid) {\n          setCurrentDate([date[0], getDayByOffset(date[0], +props.maxRange - 1)]);\n          return;\n        }\n      }\n      setCurrentDate(date);\n      if (complete && !props.showConfirm) {\n        onConfirm();\n      }\n    };\n    const getDisabledDate = (disabledDays2, startDay, date) => {\n      var _a;\n      return (_a = disabledDays2.find(day => compareDay(startDay, day.date) === -1 && compareDay(day.date, date) === -1)) == null ? void 0 : _a.date;\n    };\n    const disabledDays = computed(() => monthRefs.value.reduce((arr, ref2) => {\n      var _a, _b;\n      arr.push(...((_b = (_a = ref2.disabledDays) == null ? void 0 : _a.value) != null ? _b : []));\n      return arr;\n    }, []));\n    const onClickDay = item => {\n      if (props.readonly || !item.date) {\n        return;\n      }\n      const {\n        date\n      } = item;\n      const {\n        type\n      } = props;\n      if (type === \"range\") {\n        if (!currentDate.value) {\n          select([date]);\n          return;\n        }\n        const [startDay, endDay] = currentDate.value;\n        if (startDay && !endDay) {\n          const compareToStart = compareDay(date, startDay);\n          if (compareToStart === 1) {\n            const disabledDay = getDisabledDate(disabledDays.value, startDay, date);\n            if (disabledDay) {\n              const endDay2 = getPrevDay(disabledDay);\n              if (compareDay(startDay, endDay2) === -1) {\n                select([startDay, endDay2]);\n              } else {\n                select([date]);\n              }\n            } else {\n              select([startDay, date], true);\n            }\n          } else if (compareToStart === -1) {\n            select([date]);\n          } else if (props.allowSameDay) {\n            select([date, date], true);\n          }\n        } else {\n          select([date]);\n        }\n      } else if (type === \"multiple\") {\n        if (!currentDate.value) {\n          select([date]);\n          return;\n        }\n        const dates = currentDate.value;\n        const selectedIndex = dates.findIndex(dateItem => compareDay(dateItem, date) === 0);\n        if (selectedIndex !== -1) {\n          const [unselectedDate] = dates.splice(selectedIndex, 1);\n          emit(\"unselect\", cloneDate(unselectedDate));\n        } else if (props.maxRange && dates.length >= props.maxRange) {\n          showToast(props.rangePrompt || t(\"rangePrompt\", props.maxRange));\n        } else {\n          select([...dates, date]);\n        }\n      } else {\n        select(date, true);\n      }\n    };\n    const updateShow = value => emit(\"update:show\", value);\n    const renderMonth = (date, index) => {\n      const showMonthTitle = index !== 0 || !props.showSubtitle;\n      return _createVNode(CalendarMonth, _mergeProps({\n        \"ref\": setMonthRefs(index),\n        \"date\": date,\n        \"currentDate\": currentDate.value,\n        \"showMonthTitle\": showMonthTitle,\n        \"firstDayOfWeek\": dayOffset.value\n      }, pick(props, [\"type\", \"color\", \"minDate\", \"maxDate\", \"showMark\", \"formatter\", \"rowHeight\", \"lazyRender\", \"showSubtitle\", \"allowSameDay\"]), {\n        \"onClick\": onClickDay\n      }), pick(slots, [\"top-info\", \"bottom-info\"]));\n    };\n    const renderFooterButton = () => {\n      if (slots.footer) {\n        return slots.footer();\n      }\n      if (props.showConfirm) {\n        const slot = slots[\"confirm-text\"];\n        const disabled = buttonDisabled.value;\n        const text = disabled ? props.confirmDisabledText : props.confirmText;\n        return _createVNode(Button, {\n          \"round\": true,\n          \"block\": true,\n          \"type\": \"primary\",\n          \"color\": props.color,\n          \"class\": bem(\"confirm\"),\n          \"disabled\": disabled,\n          \"nativeType\": \"button\",\n          \"onClick\": onConfirm\n        }, {\n          default: () => [slot ? slot({\n            disabled\n          }) : text || t(\"confirm\")]\n        });\n      }\n    };\n    const renderFooter = () => _createVNode(\"div\", {\n      \"class\": [bem(\"footer\"), {\n        \"van-safe-area-bottom\": props.safeAreaInsetBottom\n      }]\n    }, [renderFooterButton()]);\n    const renderCalendar = () => _createVNode(\"div\", {\n      \"class\": bem()\n    }, [_createVNode(CalendarHeader, {\n      \"date\": subtitle.value.date,\n      \"title\": props.title,\n      \"subtitle\": subtitle.value.text,\n      \"showTitle\": props.showTitle,\n      \"showSubtitle\": props.showSubtitle,\n      \"firstDayOfWeek\": dayOffset.value,\n      \"onClickSubtitle\": event => emit(\"clickSubtitle\", event)\n    }, pick(slots, [\"title\", \"subtitle\"])), _createVNode(\"div\", {\n      \"ref\": bodyRef,\n      \"class\": bem(\"body\"),\n      \"onScroll\": onScroll\n    }, [months.value.map(renderMonth)]), renderFooter()]);\n    watch(() => props.show, init);\n    watch(() => [props.type, props.minDate, props.maxDate], () => reset(getInitialDate(currentDate.value)));\n    watch(() => props.defaultDate, (value = null) => {\n      currentDate.value = value;\n      scrollToCurrentDate();\n    });\n    useExpose({\n      reset,\n      scrollToDate,\n      getSelectedDate\n    });\n    onMountedOrActivated(init);\n    return () => {\n      if (props.poppable) {\n        return _createVNode(Popup, {\n          \"show\": props.show,\n          \"class\": bem(\"popup\"),\n          \"round\": props.round,\n          \"position\": props.position,\n          \"closeable\": props.showTitle || props.showSubtitle,\n          \"teleport\": props.teleport,\n          \"closeOnPopstate\": props.closeOnPopstate,\n          \"safeAreaInsetTop\": props.safeAreaInsetTop,\n          \"closeOnClickOverlay\": props.closeOnClickOverlay,\n          \"onUpdate:show\": updateShow\n        }, {\n          default: renderCalendar\n        });\n      }\n      return renderCalendar();\n    };\n  }\n});\nexport { calendarProps, stdin_default as default };","map":{"version":3,"names":["createVNode","_createVNode","mergeProps","_mergeProps","ref","watch","computed","defineComponent","pick","isDate","truthProp","numericProp","getScrollTop","makeStringProp","makeNumericProp","t","bem","name","getToday","cloneDate","cloneDates","getPrevDay","getNextDay","compareDay","calcDateNum","compareMonth","getDayByOffset","raf","useRect","onMountedOrActivated","useRefs","useExpose","Popup","Button","showToast","CalendarMonth","CalendarHeader","calendarProps","show","Boolean","type","title","String","color","round","readonly","poppable","maxRange","position","teleport","Object","showMark","showTitle","formatter","Function","rowHeight","confirmText","rangePrompt","lazyRender","showConfirm","defaultDate","Date","Array","allowSameDay","showSubtitle","closeOnPopstate","showRangePrompt","confirmDisabledText","closeOnClickOverlay","safeAreaInsetTop","safeAreaInsetBottom","minDate","validator","default","maxDate","now","getFullYear","getMonth","getDate","firstDayOfWeek","val","stdin_default","props","emits","setup","emit","slots","limitDateRange","date","getInitialDate","isArray","start","end","map","bodyHeight","bodyRef","subtitle","text","currentDate","monthRefs","setMonthRefs","dayOffset","months","months2","cursor","setDate","push","setMonth","buttonDisabled","value","length","getSelectedDate","onScroll","top","bottom","heights","item","index","getHeight","heightSum","reduce","a","b","height","currentMonth","visibleRange","i","month","visible","showed","getTitle","forEach","setVisible","scrollToDate","targetDate","some","scrollToCurrentDate","init","Math","floor","reset","checkRange","onConfirm","_a","select","complete","setCurrentDate","date2","valid","getDisabledDate","disabledDays2","startDay","find","day","disabledDays","arr","ref2","_b","onClickDay","endDay","compareToStart","disabledDay","endDay2","dates","selectedIndex","findIndex","dateItem","unselectedDate","splice","updateShow","renderMonth","showMonthTitle","renderFooterButton","footer","slot","disabled","renderFooter","renderCalendar","event"],"sources":["C:/Code/VScode/VUE/项目/01-xiaoms/node_modules/vant/es/calendar/Calendar.mjs"],"sourcesContent":["import { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\nimport { ref, watch, computed, defineComponent } from \"vue\";\nimport { pick, isDate, truthProp, numericProp, getScrollTop, makeStringProp, makeNumericProp } from \"../utils/index.mjs\";\nimport { t, bem, name, getToday, cloneDate, cloneDates, getPrevDay, getNextDay, compareDay, calcDateNum, compareMonth, getDayByOffset } from \"./utils.mjs\";\nimport { raf, useRect, onMountedOrActivated } from \"@vant/use\";\nimport { useRefs } from \"../composables/use-refs.mjs\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { Popup } from \"../popup/index.mjs\";\nimport { Button } from \"../button/index.mjs\";\nimport { showToast } from \"../toast/index.mjs\";\nimport CalendarMonth from \"./CalendarMonth.mjs\";\nimport CalendarHeader from \"./CalendarHeader.mjs\";\nconst calendarProps = {\n  show: Boolean,\n  type: makeStringProp(\"single\"),\n  title: String,\n  color: String,\n  round: truthProp,\n  readonly: Boolean,\n  poppable: truthProp,\n  maxRange: makeNumericProp(null),\n  position: makeStringProp(\"bottom\"),\n  teleport: [String, Object],\n  showMark: truthProp,\n  showTitle: truthProp,\n  formatter: Function,\n  rowHeight: numericProp,\n  confirmText: String,\n  rangePrompt: String,\n  lazyRender: truthProp,\n  showConfirm: truthProp,\n  defaultDate: [Date, Array],\n  allowSameDay: Boolean,\n  showSubtitle: truthProp,\n  closeOnPopstate: truthProp,\n  showRangePrompt: truthProp,\n  confirmDisabledText: String,\n  closeOnClickOverlay: truthProp,\n  safeAreaInsetTop: Boolean,\n  safeAreaInsetBottom: truthProp,\n  minDate: {\n    type: Date,\n    validator: isDate,\n    default: getToday\n  },\n  maxDate: {\n    type: Date,\n    validator: isDate,\n    default: () => {\n      const now = getToday();\n      return new Date(now.getFullYear(), now.getMonth() + 6, now.getDate());\n    }\n  },\n  firstDayOfWeek: {\n    type: numericProp,\n    default: 0,\n    validator: (val) => val >= 0 && val <= 6\n  }\n};\nvar stdin_default = defineComponent({\n  name,\n  props: calendarProps,\n  emits: [\"select\", \"confirm\", \"unselect\", \"monthShow\", \"overRange\", \"update:show\", \"clickSubtitle\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const limitDateRange = (date, minDate = props.minDate, maxDate = props.maxDate) => {\n      if (compareDay(date, minDate) === -1) {\n        return minDate;\n      }\n      if (compareDay(date, maxDate) === 1) {\n        return maxDate;\n      }\n      return date;\n    };\n    const getInitialDate = (defaultDate = props.defaultDate) => {\n      const {\n        type,\n        minDate,\n        maxDate,\n        allowSameDay\n      } = props;\n      if (defaultDate === null) {\n        return defaultDate;\n      }\n      const now = getToday();\n      if (type === \"range\") {\n        if (!Array.isArray(defaultDate)) {\n          defaultDate = [];\n        }\n        const start = limitDateRange(defaultDate[0] || now, minDate, allowSameDay ? maxDate : getPrevDay(maxDate));\n        const end = limitDateRange(defaultDate[1] || now, allowSameDay ? minDate : getNextDay(minDate));\n        return [start, end];\n      }\n      if (type === \"multiple\") {\n        if (Array.isArray(defaultDate)) {\n          return defaultDate.map((date) => limitDateRange(date));\n        }\n        return [limitDateRange(now)];\n      }\n      if (!defaultDate || Array.isArray(defaultDate)) {\n        defaultDate = now;\n      }\n      return limitDateRange(defaultDate);\n    };\n    let bodyHeight;\n    const bodyRef = ref();\n    const subtitle = ref({\n      text: \"\",\n      date: void 0\n    });\n    const currentDate = ref(getInitialDate());\n    const [monthRefs, setMonthRefs] = useRefs();\n    const dayOffset = computed(() => props.firstDayOfWeek ? +props.firstDayOfWeek % 7 : 0);\n    const months = computed(() => {\n      const months2 = [];\n      const cursor = new Date(props.minDate);\n      cursor.setDate(1);\n      do {\n        months2.push(new Date(cursor));\n        cursor.setMonth(cursor.getMonth() + 1);\n      } while (compareMonth(cursor, props.maxDate) !== 1);\n      return months2;\n    });\n    const buttonDisabled = computed(() => {\n      if (currentDate.value) {\n        if (props.type === \"range\") {\n          return !currentDate.value[0] || !currentDate.value[1];\n        }\n        if (props.type === \"multiple\") {\n          return !currentDate.value.length;\n        }\n      }\n      return !currentDate.value;\n    });\n    const getSelectedDate = () => currentDate.value;\n    const onScroll = () => {\n      const top = getScrollTop(bodyRef.value);\n      const bottom = top + bodyHeight;\n      const heights = months.value.map((item, index) => monthRefs.value[index].getHeight());\n      const heightSum = heights.reduce((a, b) => a + b, 0);\n      if (bottom > heightSum && top > 0) {\n        return;\n      }\n      let height = 0;\n      let currentMonth;\n      const visibleRange = [-1, -1];\n      for (let i = 0; i < months.value.length; i++) {\n        const month = monthRefs.value[i];\n        const visible = height <= bottom && height + heights[i] >= top;\n        if (visible) {\n          visibleRange[1] = i;\n          if (!currentMonth) {\n            currentMonth = month;\n            visibleRange[0] = i;\n          }\n          if (!monthRefs.value[i].showed) {\n            monthRefs.value[i].showed = true;\n            emit(\"monthShow\", {\n              date: month.date,\n              title: month.getTitle()\n            });\n          }\n        }\n        height += heights[i];\n      }\n      months.value.forEach((month, index) => {\n        const visible = index >= visibleRange[0] - 1 && index <= visibleRange[1] + 1;\n        monthRefs.value[index].setVisible(visible);\n      });\n      if (currentMonth) {\n        subtitle.value = {\n          text: currentMonth.getTitle(),\n          date: currentMonth.date\n        };\n      }\n    };\n    const scrollToDate = (targetDate) => {\n      raf(() => {\n        months.value.some((month, index) => {\n          if (compareMonth(month, targetDate) === 0) {\n            if (bodyRef.value) {\n              monthRefs.value[index].scrollToDate(bodyRef.value, targetDate);\n            }\n            return true;\n          }\n          return false;\n        });\n        onScroll();\n      });\n    };\n    const scrollToCurrentDate = () => {\n      if (props.poppable && !props.show) {\n        return;\n      }\n      if (currentDate.value) {\n        const targetDate = props.type === \"single\" ? currentDate.value : currentDate.value[0];\n        if (isDate(targetDate)) {\n          scrollToDate(targetDate);\n        }\n      } else {\n        raf(onScroll);\n      }\n    };\n    const init = () => {\n      if (props.poppable && !props.show) {\n        return;\n      }\n      raf(() => {\n        bodyHeight = Math.floor(useRect(bodyRef).height);\n      });\n      scrollToCurrentDate();\n    };\n    const reset = (date = getInitialDate()) => {\n      currentDate.value = date;\n      scrollToCurrentDate();\n    };\n    const checkRange = (date) => {\n      const {\n        maxRange,\n        rangePrompt,\n        showRangePrompt\n      } = props;\n      if (maxRange && calcDateNum(date) > maxRange) {\n        if (showRangePrompt) {\n          showToast(rangePrompt || t(\"rangePrompt\", maxRange));\n        }\n        emit(\"overRange\");\n        return false;\n      }\n      return true;\n    };\n    const onConfirm = () => {\n      var _a;\n      return emit(\"confirm\", (_a = currentDate.value) != null ? _a : cloneDates(currentDate.value));\n    };\n    const select = (date, complete) => {\n      const setCurrentDate = (date2) => {\n        currentDate.value = date2;\n        emit(\"select\", cloneDates(date2));\n      };\n      if (complete && props.type === \"range\") {\n        const valid = checkRange(date);\n        if (!valid) {\n          setCurrentDate([date[0], getDayByOffset(date[0], +props.maxRange - 1)]);\n          return;\n        }\n      }\n      setCurrentDate(date);\n      if (complete && !props.showConfirm) {\n        onConfirm();\n      }\n    };\n    const getDisabledDate = (disabledDays2, startDay, date) => {\n      var _a;\n      return (_a = disabledDays2.find((day) => compareDay(startDay, day.date) === -1 && compareDay(day.date, date) === -1)) == null ? void 0 : _a.date;\n    };\n    const disabledDays = computed(() => monthRefs.value.reduce((arr, ref2) => {\n      var _a, _b;\n      arr.push(...(_b = (_a = ref2.disabledDays) == null ? void 0 : _a.value) != null ? _b : []);\n      return arr;\n    }, []));\n    const onClickDay = (item) => {\n      if (props.readonly || !item.date) {\n        return;\n      }\n      const {\n        date\n      } = item;\n      const {\n        type\n      } = props;\n      if (type === \"range\") {\n        if (!currentDate.value) {\n          select([date]);\n          return;\n        }\n        const [startDay, endDay] = currentDate.value;\n        if (startDay && !endDay) {\n          const compareToStart = compareDay(date, startDay);\n          if (compareToStart === 1) {\n            const disabledDay = getDisabledDate(disabledDays.value, startDay, date);\n            if (disabledDay) {\n              const endDay2 = getPrevDay(disabledDay);\n              if (compareDay(startDay, endDay2) === -1) {\n                select([startDay, endDay2]);\n              } else {\n                select([date]);\n              }\n            } else {\n              select([startDay, date], true);\n            }\n          } else if (compareToStart === -1) {\n            select([date]);\n          } else if (props.allowSameDay) {\n            select([date, date], true);\n          }\n        } else {\n          select([date]);\n        }\n      } else if (type === \"multiple\") {\n        if (!currentDate.value) {\n          select([date]);\n          return;\n        }\n        const dates = currentDate.value;\n        const selectedIndex = dates.findIndex((dateItem) => compareDay(dateItem, date) === 0);\n        if (selectedIndex !== -1) {\n          const [unselectedDate] = dates.splice(selectedIndex, 1);\n          emit(\"unselect\", cloneDate(unselectedDate));\n        } else if (props.maxRange && dates.length >= props.maxRange) {\n          showToast(props.rangePrompt || t(\"rangePrompt\", props.maxRange));\n        } else {\n          select([...dates, date]);\n        }\n      } else {\n        select(date, true);\n      }\n    };\n    const updateShow = (value) => emit(\"update:show\", value);\n    const renderMonth = (date, index) => {\n      const showMonthTitle = index !== 0 || !props.showSubtitle;\n      return _createVNode(CalendarMonth, _mergeProps({\n        \"ref\": setMonthRefs(index),\n        \"date\": date,\n        \"currentDate\": currentDate.value,\n        \"showMonthTitle\": showMonthTitle,\n        \"firstDayOfWeek\": dayOffset.value\n      }, pick(props, [\"type\", \"color\", \"minDate\", \"maxDate\", \"showMark\", \"formatter\", \"rowHeight\", \"lazyRender\", \"showSubtitle\", \"allowSameDay\"]), {\n        \"onClick\": onClickDay\n      }), pick(slots, [\"top-info\", \"bottom-info\"]));\n    };\n    const renderFooterButton = () => {\n      if (slots.footer) {\n        return slots.footer();\n      }\n      if (props.showConfirm) {\n        const slot = slots[\"confirm-text\"];\n        const disabled = buttonDisabled.value;\n        const text = disabled ? props.confirmDisabledText : props.confirmText;\n        return _createVNode(Button, {\n          \"round\": true,\n          \"block\": true,\n          \"type\": \"primary\",\n          \"color\": props.color,\n          \"class\": bem(\"confirm\"),\n          \"disabled\": disabled,\n          \"nativeType\": \"button\",\n          \"onClick\": onConfirm\n        }, {\n          default: () => [slot ? slot({\n            disabled\n          }) : text || t(\"confirm\")]\n        });\n      }\n    };\n    const renderFooter = () => _createVNode(\"div\", {\n      \"class\": [bem(\"footer\"), {\n        \"van-safe-area-bottom\": props.safeAreaInsetBottom\n      }]\n    }, [renderFooterButton()]);\n    const renderCalendar = () => _createVNode(\"div\", {\n      \"class\": bem()\n    }, [_createVNode(CalendarHeader, {\n      \"date\": subtitle.value.date,\n      \"title\": props.title,\n      \"subtitle\": subtitle.value.text,\n      \"showTitle\": props.showTitle,\n      \"showSubtitle\": props.showSubtitle,\n      \"firstDayOfWeek\": dayOffset.value,\n      \"onClickSubtitle\": (event) => emit(\"clickSubtitle\", event)\n    }, pick(slots, [\"title\", \"subtitle\"])), _createVNode(\"div\", {\n      \"ref\": bodyRef,\n      \"class\": bem(\"body\"),\n      \"onScroll\": onScroll\n    }, [months.value.map(renderMonth)]), renderFooter()]);\n    watch(() => props.show, init);\n    watch(() => [props.type, props.minDate, props.maxDate], () => reset(getInitialDate(currentDate.value)));\n    watch(() => props.defaultDate, (value = null) => {\n      currentDate.value = value;\n      scrollToCurrentDate();\n    });\n    useExpose({\n      reset,\n      scrollToDate,\n      getSelectedDate\n    });\n    onMountedOrActivated(init);\n    return () => {\n      if (props.poppable) {\n        return _createVNode(Popup, {\n          \"show\": props.show,\n          \"class\": bem(\"popup\"),\n          \"round\": props.round,\n          \"position\": props.position,\n          \"closeable\": props.showTitle || props.showSubtitle,\n          \"teleport\": props.teleport,\n          \"closeOnPopstate\": props.closeOnPopstate,\n          \"safeAreaInsetTop\": props.safeAreaInsetTop,\n          \"closeOnClickOverlay\": props.closeOnClickOverlay,\n          \"onUpdate:show\": updateShow\n        }, {\n          default: renderCalendar\n        });\n      }\n      return renderCalendar();\n    };\n  }\n});\nexport {\n  calendarProps,\n  stdin_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}