{"ast":null,"code":"import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { nextTick, defineComponent } from \"vue\";\nimport { pick, extend, truthProp, makeArrayProp, makeStringProp, createNamespace, HAPTICS_FEEDBACK } from \"../utils/index.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Popup } from \"../popup/index.mjs\";\nimport { Loading } from \"../loading/index.mjs\";\nimport { popupSharedProps, popupSharedPropKeys } from \"../popup/shared.mjs\";\nconst [name, bem] = createNamespace(\"action-sheet\");\nconst actionSheetProps = extend({}, popupSharedProps, {\n  title: String,\n  round: truthProp,\n  actions: makeArrayProp(),\n  closeIcon: makeStringProp(\"cross\"),\n  closeable: truthProp,\n  cancelText: String,\n  description: String,\n  closeOnPopstate: truthProp,\n  closeOnClickAction: Boolean,\n  safeAreaInsetBottom: truthProp\n});\nconst popupInheritKeys = [...popupSharedPropKeys, \"round\", \"closeOnPopstate\", \"safeAreaInsetBottom\"];\nvar stdin_default = defineComponent({\n  name,\n  props: actionSheetProps,\n  emits: [\"select\", \"cancel\", \"update:show\"],\n  setup(props, {\n    slots,\n    emit\n  }) {\n    const updateShow = show => emit(\"update:show\", show);\n    const onCancel = () => {\n      updateShow(false);\n      emit(\"cancel\");\n    };\n    const renderHeader = () => {\n      if (props.title) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"header\")\n        }, [props.title, props.closeable && _createVNode(Icon, {\n          \"name\": props.closeIcon,\n          \"class\": [bem(\"close\"), HAPTICS_FEEDBACK],\n          \"onClick\": onCancel\n        }, null)]);\n      }\n    };\n    const renderCancel = () => {\n      if (slots.cancel || props.cancelText) {\n        return [_createVNode(\"div\", {\n          \"class\": bem(\"gap\")\n        }, null), _createVNode(\"button\", {\n          \"type\": \"button\",\n          \"class\": bem(\"cancel\"),\n          \"onClick\": onCancel\n        }, [slots.cancel ? slots.cancel() : props.cancelText])];\n      }\n    };\n    const renderActionContent = (action, index) => {\n      if (action.loading) {\n        return _createVNode(Loading, {\n          \"class\": bem(\"loading-icon\")\n        }, null);\n      }\n      if (slots.action) {\n        return slots.action({\n          action,\n          index\n        });\n      }\n      return [_createVNode(\"span\", {\n        \"class\": bem(\"name\")\n      }, [action.name]), action.subname && _createVNode(\"div\", {\n        \"class\": bem(\"subname\")\n      }, [action.subname])];\n    };\n    const renderAction = (action, index) => {\n      const {\n        color,\n        loading,\n        callback,\n        disabled,\n        className\n      } = action;\n      const onClick = () => {\n        if (disabled || loading) {\n          return;\n        }\n        if (callback) {\n          callback(action);\n        }\n        if (props.closeOnClickAction) {\n          updateShow(false);\n        }\n        nextTick(() => emit(\"select\", action, index));\n      };\n      return _createVNode(\"button\", {\n        \"type\": \"button\",\n        \"style\": {\n          color\n        },\n        \"class\": [bem(\"item\", {\n          loading,\n          disabled\n        }), className],\n        \"onClick\": onClick\n      }, [renderActionContent(action, index)]);\n    };\n    const renderDescription = () => {\n      if (props.description || slots.description) {\n        const content = slots.description ? slots.description() : props.description;\n        return _createVNode(\"div\", {\n          \"class\": bem(\"description\")\n        }, [content]);\n      }\n    };\n    return () => _createVNode(Popup, _mergeProps({\n      \"class\": bem(),\n      \"position\": \"bottom\",\n      \"onUpdate:show\": updateShow\n    }, pick(props, popupInheritKeys)), {\n      default: () => {\n        var _a;\n        return [renderHeader(), renderDescription(), _createVNode(\"div\", {\n          \"class\": bem(\"content\")\n        }, [props.actions.map(renderAction), (_a = slots.default) == null ? void 0 : _a.call(slots)]), renderCancel()];\n      }\n    });\n  }\n});\nexport { actionSheetProps, stdin_default as default };","map":{"version":3,"names":["mergeProps","_mergeProps","createVNode","_createVNode","nextTick","defineComponent","pick","extend","truthProp","makeArrayProp","makeStringProp","createNamespace","HAPTICS_FEEDBACK","Icon","Popup","Loading","popupSharedProps","popupSharedPropKeys","name","bem","actionSheetProps","title","String","round","actions","closeIcon","closeable","cancelText","description","closeOnPopstate","closeOnClickAction","Boolean","safeAreaInsetBottom","popupInheritKeys","stdin_default","props","emits","setup","slots","emit","updateShow","show","onCancel","renderHeader","renderCancel","cancel","renderActionContent","action","index","loading","subname","renderAction","color","callback","disabled","className","onClick","renderDescription","content","default","_a","map","call"],"sources":["C:/Users/yangp/Desktop/01-xiaoms/node_modules/vant/es/action-sheet/ActionSheet.mjs"],"sourcesContent":["import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\r\nimport { nextTick, defineComponent } from \"vue\";\r\nimport { pick, extend, truthProp, makeArrayProp, makeStringProp, createNamespace, HAPTICS_FEEDBACK } from \"../utils/index.mjs\";\r\nimport { Icon } from \"../icon/index.mjs\";\r\nimport { Popup } from \"../popup/index.mjs\";\r\nimport { Loading } from \"../loading/index.mjs\";\r\nimport { popupSharedProps, popupSharedPropKeys } from \"../popup/shared.mjs\";\r\nconst [name, bem] = createNamespace(\"action-sheet\");\r\nconst actionSheetProps = extend({}, popupSharedProps, {\r\n  title: String,\r\n  round: truthProp,\r\n  actions: makeArrayProp(),\r\n  closeIcon: makeStringProp(\"cross\"),\r\n  closeable: truthProp,\r\n  cancelText: String,\r\n  description: String,\r\n  closeOnPopstate: truthProp,\r\n  closeOnClickAction: Boolean,\r\n  safeAreaInsetBottom: truthProp\r\n});\r\nconst popupInheritKeys = [...popupSharedPropKeys, \"round\", \"closeOnPopstate\", \"safeAreaInsetBottom\"];\r\nvar stdin_default = defineComponent({\r\n  name,\r\n  props: actionSheetProps,\r\n  emits: [\"select\", \"cancel\", \"update:show\"],\r\n  setup(props, {\r\n    slots,\r\n    emit\r\n  }) {\r\n    const updateShow = (show) => emit(\"update:show\", show);\r\n    const onCancel = () => {\r\n      updateShow(false);\r\n      emit(\"cancel\");\r\n    };\r\n    const renderHeader = () => {\r\n      if (props.title) {\r\n        return _createVNode(\"div\", {\r\n          \"class\": bem(\"header\")\r\n        }, [props.title, props.closeable && _createVNode(Icon, {\r\n          \"name\": props.closeIcon,\r\n          \"class\": [bem(\"close\"), HAPTICS_FEEDBACK],\r\n          \"onClick\": onCancel\r\n        }, null)]);\r\n      }\r\n    };\r\n    const renderCancel = () => {\r\n      if (slots.cancel || props.cancelText) {\r\n        return [_createVNode(\"div\", {\r\n          \"class\": bem(\"gap\")\r\n        }, null), _createVNode(\"button\", {\r\n          \"type\": \"button\",\r\n          \"class\": bem(\"cancel\"),\r\n          \"onClick\": onCancel\r\n        }, [slots.cancel ? slots.cancel() : props.cancelText])];\r\n      }\r\n    };\r\n    const renderActionContent = (action, index) => {\r\n      if (action.loading) {\r\n        return _createVNode(Loading, {\r\n          \"class\": bem(\"loading-icon\")\r\n        }, null);\r\n      }\r\n      if (slots.action) {\r\n        return slots.action({\r\n          action,\r\n          index\r\n        });\r\n      }\r\n      return [_createVNode(\"span\", {\r\n        \"class\": bem(\"name\")\r\n      }, [action.name]), action.subname && _createVNode(\"div\", {\r\n        \"class\": bem(\"subname\")\r\n      }, [action.subname])];\r\n    };\r\n    const renderAction = (action, index) => {\r\n      const {\r\n        color,\r\n        loading,\r\n        callback,\r\n        disabled,\r\n        className\r\n      } = action;\r\n      const onClick = () => {\r\n        if (disabled || loading) {\r\n          return;\r\n        }\r\n        if (callback) {\r\n          callback(action);\r\n        }\r\n        if (props.closeOnClickAction) {\r\n          updateShow(false);\r\n        }\r\n        nextTick(() => emit(\"select\", action, index));\r\n      };\r\n      return _createVNode(\"button\", {\r\n        \"type\": \"button\",\r\n        \"style\": {\r\n          color\r\n        },\r\n        \"class\": [bem(\"item\", {\r\n          loading,\r\n          disabled\r\n        }), className],\r\n        \"onClick\": onClick\r\n      }, [renderActionContent(action, index)]);\r\n    };\r\n    const renderDescription = () => {\r\n      if (props.description || slots.description) {\r\n        const content = slots.description ? slots.description() : props.description;\r\n        return _createVNode(\"div\", {\r\n          \"class\": bem(\"description\")\r\n        }, [content]);\r\n      }\r\n    };\r\n    return () => _createVNode(Popup, _mergeProps({\r\n      \"class\": bem(),\r\n      \"position\": \"bottom\",\r\n      \"onUpdate:show\": updateShow\r\n    }, pick(props, popupInheritKeys)), {\r\n      default: () => {\r\n        var _a;\r\n        return [renderHeader(), renderDescription(), _createVNode(\"div\", {\r\n          \"class\": bem(\"content\")\r\n        }, [props.actions.map(renderAction), (_a = slots.default) == null ? void 0 : _a.call(slots)]), renderCancel()];\r\n      }\r\n    });\r\n  }\r\n});\r\nexport {\r\n  actionSheetProps,\r\n  stdin_default as default\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}