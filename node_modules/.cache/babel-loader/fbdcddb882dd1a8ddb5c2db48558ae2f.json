{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport { computed, watchEffect, defineComponent } from \"vue\";\nimport { clamp, makeStringProp, makeNumberProp, makeNumericProp, createNamespace, BORDER_SURROUND } from \"../utils/index.mjs\";\nconst [name, bem, t] = createNamespace(\"pagination\");\nconst makePage = (number, text, active) => ({\n  number,\n  text,\n  active\n});\nconst paginationProps = {\n  mode: makeStringProp(\"multi\"),\n  prevText: String,\n  nextText: String,\n  pageCount: makeNumericProp(0),\n  modelValue: makeNumberProp(0),\n  totalItems: makeNumericProp(0),\n  showPageSize: makeNumericProp(5),\n  itemsPerPage: makeNumericProp(10),\n  forceEllipses: Boolean\n};\nvar stdin_default = defineComponent({\n  name,\n  props: paginationProps,\n  emits: [\"change\", \"update:modelValue\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const count = computed(() => {\n      const {\n        pageCount,\n        totalItems,\n        itemsPerPage\n      } = props;\n      const count2 = +pageCount || Math.ceil(+totalItems / +itemsPerPage);\n      return Math.max(1, count2);\n    });\n    const pages = computed(() => {\n      const items = [];\n      const pageCount = count.value;\n      const showPageSize = +props.showPageSize;\n      const {\n        modelValue,\n        forceEllipses\n      } = props;\n      let startPage = 1;\n      let endPage = pageCount;\n      const isMaxSized = showPageSize < pageCount;\n      if (isMaxSized) {\n        startPage = Math.max(modelValue - Math.floor(showPageSize / 2), 1);\n        endPage = startPage + showPageSize - 1;\n        if (endPage > pageCount) {\n          endPage = pageCount;\n          startPage = endPage - showPageSize + 1;\n        }\n      }\n      for (let number = startPage; number <= endPage; number++) {\n        const page = makePage(number, number, number === modelValue);\n        items.push(page);\n      }\n      if (isMaxSized && showPageSize > 0 && forceEllipses) {\n        if (startPage > 1) {\n          const prevPages = makePage(startPage - 1, \"...\");\n          items.unshift(prevPages);\n        }\n        if (endPage < pageCount) {\n          const nextPages = makePage(endPage + 1, \"...\");\n          items.push(nextPages);\n        }\n      }\n      return items;\n    });\n    const updateModelValue = (value, emitChange) => {\n      value = clamp(value, 1, count.value);\n      if (props.modelValue !== value) {\n        emit(\"update:modelValue\", value);\n        if (emitChange) {\n          emit(\"change\", value);\n        }\n      }\n    };\n    watchEffect(() => updateModelValue(props.modelValue));\n    const renderDesc = () => _createVNode(\"li\", {\n      \"class\": bem(\"page-desc\")\n    }, [slots.pageDesc ? slots.pageDesc() : `${props.modelValue}/${count.value}`]);\n    const renderPrevButton = () => {\n      const {\n        mode,\n        modelValue\n      } = props;\n      const slot = slots[\"prev-text\"];\n      const disabled = modelValue === 1;\n      return _createVNode(\"li\", {\n        \"class\": [bem(\"item\", {\n          disabled,\n          border: mode === \"simple\",\n          prev: true\n        }), BORDER_SURROUND]\n      }, [_createVNode(\"button\", {\n        \"type\": \"button\",\n        \"disabled\": disabled,\n        \"onClick\": () => updateModelValue(modelValue - 1, true)\n      }, [slot ? slot() : props.prevText || t(\"prev\")])]);\n    };\n    const renderNextButton = () => {\n      const {\n        mode,\n        modelValue\n      } = props;\n      const slot = slots[\"next-text\"];\n      const disabled = modelValue === count.value;\n      return _createVNode(\"li\", {\n        \"class\": [bem(\"item\", {\n          disabled,\n          border: mode === \"simple\",\n          next: true\n        }), BORDER_SURROUND]\n      }, [_createVNode(\"button\", {\n        \"type\": \"button\",\n        \"disabled\": disabled,\n        \"onClick\": () => updateModelValue(modelValue + 1, true)\n      }, [slot ? slot() : props.nextText || t(\"next\")])]);\n    };\n    const renderPages = () => pages.value.map(page => _createVNode(\"li\", {\n      \"class\": [bem(\"item\", {\n        active: page.active,\n        page: true\n      }), BORDER_SURROUND]\n    }, [_createVNode(\"button\", {\n      \"type\": \"button\",\n      \"aria-current\": page.active || void 0,\n      \"onClick\": () => updateModelValue(page.number, true)\n    }, [slots.page ? slots.page(page) : page.text])]));\n    return () => _createVNode(\"nav\", {\n      \"role\": \"navigation\",\n      \"class\": bem()\n    }, [_createVNode(\"ul\", {\n      \"class\": bem(\"items\")\n    }, [renderPrevButton(), props.mode === \"simple\" ? renderDesc() : renderPages(), renderNextButton()])]);\n  }\n});\nexport { stdin_default as default, paginationProps };","map":{"version":3,"names":["createVNode","_createVNode","computed","watchEffect","defineComponent","clamp","makeStringProp","makeNumberProp","makeNumericProp","createNamespace","BORDER_SURROUND","name","bem","t","makePage","number","text","active","paginationProps","mode","prevText","String","nextText","pageCount","modelValue","totalItems","showPageSize","itemsPerPage","forceEllipses","Boolean","stdin_default","props","emits","setup","emit","slots","count","count2","Math","ceil","max","pages","items","value","startPage","endPage","isMaxSized","floor","page","push","prevPages","unshift","nextPages","updateModelValue","emitChange","renderDesc","pageDesc","renderPrevButton","slot","disabled","border","prev","renderNextButton","next","renderPages","map","default"],"sources":["C:/Users/yangp/Desktop/01-xiaoms/node_modules/vant/es/pagination/Pagination.mjs"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\r\nimport { computed, watchEffect, defineComponent } from \"vue\";\r\nimport { clamp, makeStringProp, makeNumberProp, makeNumericProp, createNamespace, BORDER_SURROUND } from \"../utils/index.mjs\";\r\nconst [name, bem, t] = createNamespace(\"pagination\");\r\nconst makePage = (number, text, active) => ({\r\n  number,\r\n  text,\r\n  active\r\n});\r\nconst paginationProps = {\r\n  mode: makeStringProp(\"multi\"),\r\n  prevText: String,\r\n  nextText: String,\r\n  pageCount: makeNumericProp(0),\r\n  modelValue: makeNumberProp(0),\r\n  totalItems: makeNumericProp(0),\r\n  showPageSize: makeNumericProp(5),\r\n  itemsPerPage: makeNumericProp(10),\r\n  forceEllipses: Boolean\r\n};\r\nvar stdin_default = defineComponent({\r\n  name,\r\n  props: paginationProps,\r\n  emits: [\"change\", \"update:modelValue\"],\r\n  setup(props, {\r\n    emit,\r\n    slots\r\n  }) {\r\n    const count = computed(() => {\r\n      const {\r\n        pageCount,\r\n        totalItems,\r\n        itemsPerPage\r\n      } = props;\r\n      const count2 = +pageCount || Math.ceil(+totalItems / +itemsPerPage);\r\n      return Math.max(1, count2);\r\n    });\r\n    const pages = computed(() => {\r\n      const items = [];\r\n      const pageCount = count.value;\r\n      const showPageSize = +props.showPageSize;\r\n      const {\r\n        modelValue,\r\n        forceEllipses\r\n      } = props;\r\n      let startPage = 1;\r\n      let endPage = pageCount;\r\n      const isMaxSized = showPageSize < pageCount;\r\n      if (isMaxSized) {\r\n        startPage = Math.max(modelValue - Math.floor(showPageSize / 2), 1);\r\n        endPage = startPage + showPageSize - 1;\r\n        if (endPage > pageCount) {\r\n          endPage = pageCount;\r\n          startPage = endPage - showPageSize + 1;\r\n        }\r\n      }\r\n      for (let number = startPage; number <= endPage; number++) {\r\n        const page = makePage(number, number, number === modelValue);\r\n        items.push(page);\r\n      }\r\n      if (isMaxSized && showPageSize > 0 && forceEllipses) {\r\n        if (startPage > 1) {\r\n          const prevPages = makePage(startPage - 1, \"...\");\r\n          items.unshift(prevPages);\r\n        }\r\n        if (endPage < pageCount) {\r\n          const nextPages = makePage(endPage + 1, \"...\");\r\n          items.push(nextPages);\r\n        }\r\n      }\r\n      return items;\r\n    });\r\n    const updateModelValue = (value, emitChange) => {\r\n      value = clamp(value, 1, count.value);\r\n      if (props.modelValue !== value) {\r\n        emit(\"update:modelValue\", value);\r\n        if (emitChange) {\r\n          emit(\"change\", value);\r\n        }\r\n      }\r\n    };\r\n    watchEffect(() => updateModelValue(props.modelValue));\r\n    const renderDesc = () => _createVNode(\"li\", {\r\n      \"class\": bem(\"page-desc\")\r\n    }, [slots.pageDesc ? slots.pageDesc() : `${props.modelValue}/${count.value}`]);\r\n    const renderPrevButton = () => {\r\n      const {\r\n        mode,\r\n        modelValue\r\n      } = props;\r\n      const slot = slots[\"prev-text\"];\r\n      const disabled = modelValue === 1;\r\n      return _createVNode(\"li\", {\r\n        \"class\": [bem(\"item\", {\r\n          disabled,\r\n          border: mode === \"simple\",\r\n          prev: true\r\n        }), BORDER_SURROUND]\r\n      }, [_createVNode(\"button\", {\r\n        \"type\": \"button\",\r\n        \"disabled\": disabled,\r\n        \"onClick\": () => updateModelValue(modelValue - 1, true)\r\n      }, [slot ? slot() : props.prevText || t(\"prev\")])]);\r\n    };\r\n    const renderNextButton = () => {\r\n      const {\r\n        mode,\r\n        modelValue\r\n      } = props;\r\n      const slot = slots[\"next-text\"];\r\n      const disabled = modelValue === count.value;\r\n      return _createVNode(\"li\", {\r\n        \"class\": [bem(\"item\", {\r\n          disabled,\r\n          border: mode === \"simple\",\r\n          next: true\r\n        }), BORDER_SURROUND]\r\n      }, [_createVNode(\"button\", {\r\n        \"type\": \"button\",\r\n        \"disabled\": disabled,\r\n        \"onClick\": () => updateModelValue(modelValue + 1, true)\r\n      }, [slot ? slot() : props.nextText || t(\"next\")])]);\r\n    };\r\n    const renderPages = () => pages.value.map((page) => _createVNode(\"li\", {\r\n      \"class\": [bem(\"item\", {\r\n        active: page.active,\r\n        page: true\r\n      }), BORDER_SURROUND]\r\n    }, [_createVNode(\"button\", {\r\n      \"type\": \"button\",\r\n      \"aria-current\": page.active || void 0,\r\n      \"onClick\": () => updateModelValue(page.number, true)\r\n    }, [slots.page ? slots.page(page) : page.text])]));\r\n    return () => _createVNode(\"nav\", {\r\n      \"role\": \"navigation\",\r\n      \"class\": bem()\r\n    }, [_createVNode(\"ul\", {\r\n      \"class\": bem(\"items\")\r\n    }, [renderPrevButton(), props.mode === \"simple\" ? renderDesc() : renderPages(), renderNextButton()])]);\r\n  }\r\n});\r\nexport {\r\n  stdin_default as default,\r\n  paginationProps\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}