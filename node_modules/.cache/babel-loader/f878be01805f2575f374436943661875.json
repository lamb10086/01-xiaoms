{"ast":null,"code":"import { withDirectives as _withDirectives, vShow as _vShow, createVNode as _createVNode } from \"vue\";\nimport { ref, watch, provide, computed, nextTick, defineComponent } from \"vue\";\nimport { extend, truthProp, unknownProp, numericProp, createNamespace } from \"../utils/index.mjs\";\nimport { TABS_KEY } from \"../tabs/Tabs.mjs\";\nimport { doubleRaf, useParent } from \"@vant/use\";\nimport { useId } from \"../composables/use-id.mjs\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { routeProps } from \"../composables/use-route.mjs\";\nimport { TAB_STATUS_KEY } from \"../composables/use-tab-status.mjs\";\nimport { SwipeItem } from \"../swipe-item/index.mjs\";\nconst [name, bem] = createNamespace(\"tab\");\nconst tabProps = extend({}, routeProps, {\n  dot: Boolean,\n  name: numericProp,\n  badge: numericProp,\n  title: String,\n  disabled: Boolean,\n  titleClass: unknownProp,\n  titleStyle: [String, Object],\n  showZeroBadge: truthProp\n});\nvar stdin_default = defineComponent({\n  name,\n  props: tabProps,\n  setup(props, {\n    slots\n  }) {\n    const id = useId();\n    const inited = ref(false);\n    const {\n      parent,\n      index\n    } = useParent(TABS_KEY);\n    if (!parent) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(\"[Vant] <Tab> must be a child component of <Tabs>.\");\n      }\n      return;\n    }\n    const getName = () => {\n      var _a;\n      return (_a = props.name) != null ? _a : index.value;\n    };\n    const init = () => {\n      inited.value = true;\n      if (parent.props.lazyRender) {\n        nextTick(() => {\n          parent.onRendered(getName(), props.title);\n        });\n      }\n    };\n    const active = computed(() => {\n      const isActive = getName() === parent.currentName.value;\n      if (isActive && !inited.value) {\n        init();\n      }\n      return isActive;\n    });\n    const hasInactiveClass = ref(!active.value);\n    watch(active, val => {\n      if (val) {\n        hasInactiveClass.value = false;\n      } else {\n        doubleRaf(() => {\n          hasInactiveClass.value = true;\n        });\n      }\n    });\n    watch(() => props.title, () => {\n      parent.setLine();\n      parent.scrollIntoView();\n    });\n    provide(TAB_STATUS_KEY, active);\n    return () => {\n      var _a;\n      const label = `${parent.id}-${index.value}`;\n      const {\n        animated,\n        swipeable,\n        scrollspy,\n        lazyRender\n      } = parent.props;\n      if (!slots.default && !animated) {\n        return;\n      }\n      const show = scrollspy || active.value;\n      if (animated || swipeable) {\n        return _createVNode(SwipeItem, {\n          \"id\": id,\n          \"role\": \"tabpanel\",\n          \"class\": bem(\"panel-wrapper\", {\n            inactive: hasInactiveClass.value\n          }),\n          \"tabindex\": active.value ? 0 : -1,\n          \"aria-hidden\": !active.value,\n          \"aria-labelledby\": label\n        }, {\n          default: () => {\n            var _a2;\n            return [_createVNode(\"div\", {\n              \"class\": bem(\"panel\")\n            }, [(_a2 = slots.default) == null ? void 0 : _a2.call(slots)])];\n          }\n        });\n      }\n      const shouldRender = inited.value || scrollspy || !lazyRender;\n      const Content = shouldRender ? (_a = slots.default) == null ? void 0 : _a.call(slots) : null;\n      useExpose({\n        id\n      });\n      return _withDirectives(_createVNode(\"div\", {\n        \"id\": id,\n        \"role\": \"tabpanel\",\n        \"class\": bem(\"panel\"),\n        \"tabindex\": show ? 0 : -1,\n        \"aria-labelledby\": label\n      }, [Content]), [[_vShow, show]]);\n    };\n  }\n});\nexport { stdin_default as default, tabProps };","map":{"version":3,"names":["withDirectives","_withDirectives","vShow","_vShow","createVNode","_createVNode","ref","watch","provide","computed","nextTick","defineComponent","extend","truthProp","unknownProp","numericProp","createNamespace","TABS_KEY","doubleRaf","useParent","useId","useExpose","routeProps","TAB_STATUS_KEY","SwipeItem","name","bem","tabProps","dot","Boolean","badge","title","String","disabled","titleClass","titleStyle","Object","showZeroBadge","stdin_default","props","setup","slots","id","inited","parent","index","process","env","NODE_ENV","console","error","getName","_a","value","init","lazyRender","onRendered","active","isActive","currentName","hasInactiveClass","val","setLine","scrollIntoView","label","animated","swipeable","scrollspy","default","show","inactive","_a2","call","shouldRender","Content"],"sources":["C:/Users/yangp/Desktop/01-xiaoms/node_modules/vant/es/tab/Tab.mjs"],"sourcesContent":["import { withDirectives as _withDirectives, vShow as _vShow, createVNode as _createVNode } from \"vue\";\r\nimport { ref, watch, provide, computed, nextTick, defineComponent } from \"vue\";\r\nimport { extend, truthProp, unknownProp, numericProp, createNamespace } from \"../utils/index.mjs\";\r\nimport { TABS_KEY } from \"../tabs/Tabs.mjs\";\r\nimport { doubleRaf, useParent } from \"@vant/use\";\r\nimport { useId } from \"../composables/use-id.mjs\";\r\nimport { useExpose } from \"../composables/use-expose.mjs\";\r\nimport { routeProps } from \"../composables/use-route.mjs\";\r\nimport { TAB_STATUS_KEY } from \"../composables/use-tab-status.mjs\";\r\nimport { SwipeItem } from \"../swipe-item/index.mjs\";\r\nconst [name, bem] = createNamespace(\"tab\");\r\nconst tabProps = extend({}, routeProps, {\r\n  dot: Boolean,\r\n  name: numericProp,\r\n  badge: numericProp,\r\n  title: String,\r\n  disabled: Boolean,\r\n  titleClass: unknownProp,\r\n  titleStyle: [String, Object],\r\n  showZeroBadge: truthProp\r\n});\r\nvar stdin_default = defineComponent({\r\n  name,\r\n  props: tabProps,\r\n  setup(props, {\r\n    slots\r\n  }) {\r\n    const id = useId();\r\n    const inited = ref(false);\r\n    const {\r\n      parent,\r\n      index\r\n    } = useParent(TABS_KEY);\r\n    if (!parent) {\r\n      if (process.env.NODE_ENV !== \"production\") {\r\n        console.error(\"[Vant] <Tab> must be a child component of <Tabs>.\");\r\n      }\r\n      return;\r\n    }\r\n    const getName = () => {\r\n      var _a;\r\n      return (_a = props.name) != null ? _a : index.value;\r\n    };\r\n    const init = () => {\r\n      inited.value = true;\r\n      if (parent.props.lazyRender) {\r\n        nextTick(() => {\r\n          parent.onRendered(getName(), props.title);\r\n        });\r\n      }\r\n    };\r\n    const active = computed(() => {\r\n      const isActive = getName() === parent.currentName.value;\r\n      if (isActive && !inited.value) {\r\n        init();\r\n      }\r\n      return isActive;\r\n    });\r\n    const hasInactiveClass = ref(!active.value);\r\n    watch(active, (val) => {\r\n      if (val) {\r\n        hasInactiveClass.value = false;\r\n      } else {\r\n        doubleRaf(() => {\r\n          hasInactiveClass.value = true;\r\n        });\r\n      }\r\n    });\r\n    watch(() => props.title, () => {\r\n      parent.setLine();\r\n      parent.scrollIntoView();\r\n    });\r\n    provide(TAB_STATUS_KEY, active);\r\n    return () => {\r\n      var _a;\r\n      const label = `${parent.id}-${index.value}`;\r\n      const {\r\n        animated,\r\n        swipeable,\r\n        scrollspy,\r\n        lazyRender\r\n      } = parent.props;\r\n      if (!slots.default && !animated) {\r\n        return;\r\n      }\r\n      const show = scrollspy || active.value;\r\n      if (animated || swipeable) {\r\n        return _createVNode(SwipeItem, {\r\n          \"id\": id,\r\n          \"role\": \"tabpanel\",\r\n          \"class\": bem(\"panel-wrapper\", {\r\n            inactive: hasInactiveClass.value\r\n          }),\r\n          \"tabindex\": active.value ? 0 : -1,\r\n          \"aria-hidden\": !active.value,\r\n          \"aria-labelledby\": label\r\n        }, {\r\n          default: () => {\r\n            var _a2;\r\n            return [_createVNode(\"div\", {\r\n              \"class\": bem(\"panel\")\r\n            }, [(_a2 = slots.default) == null ? void 0 : _a2.call(slots)])];\r\n          }\r\n        });\r\n      }\r\n      const shouldRender = inited.value || scrollspy || !lazyRender;\r\n      const Content = shouldRender ? (_a = slots.default) == null ? void 0 : _a.call(slots) : null;\r\n      useExpose({\r\n        id\r\n      });\r\n      return _withDirectives(_createVNode(\"div\", {\r\n        \"id\": id,\r\n        \"role\": \"tabpanel\",\r\n        \"class\": bem(\"panel\"),\r\n        \"tabindex\": show ? 0 : -1,\r\n        \"aria-labelledby\": label\r\n      }, [Content]), [[_vShow, show]]);\r\n    };\r\n  }\r\n});\r\nexport {\r\n  stdin_default as default,\r\n  tabProps\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}