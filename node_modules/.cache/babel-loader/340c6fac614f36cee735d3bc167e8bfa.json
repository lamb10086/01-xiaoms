{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, normalizeClass as _normalizeClass, vShow as _vShow, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-36f70f88\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  style: {\n    \"padding-bottom\": \"60px\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"top-img\"\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  class: \"top-reminder\"\n};\nconst _hoisted_5 = {\n  class: \"main-form\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"请填写基本信息\", -1 /* HOISTED */));\nconst _hoisted_7 = {\n  class: \"symptom-btn\"\n};\nconst _hoisted_8 = {\n  class: \"botton-btn\"\n};\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"top\"\n}, [/*#__PURE__*/_createElementVNode(\"h2\", null, \"选择宠物品种\"), /*#__PURE__*/_createElementVNode(\"hr\")], -1 /* HOISTED */));\nconst _hoisted_10 = {\n  class: \"choice\"\n};\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"top\"\n}, [/*#__PURE__*/_createElementVNode(\"h2\", null, \"当前已选症状\"), /*#__PURE__*/_createElementVNode(\"hr\")], -1 /* HOISTED */));\nconst _hoisted_12 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_van_field = _resolveComponent(\"van-field\");\n  const _component_van_radio = _resolveComponent(\"van-radio\");\n  const _component_van_radio_group = _resolveComponent(\"van-radio-group\");\n  const _component_van_cell_group = _resolveComponent(\"van-cell-group\");\n  const _component_van_form = _resolveComponent(\"van-form\");\n  const _component_van_button = _resolveComponent(\"van-button\");\n  const _component_detail_list = _resolveComponent(\"detail-list\");\n  const _component_index_bar = _resolveComponent(\"index-bar\");\n  const _component_van_popup = _resolveComponent(\"van-popup\");\n  const _component_van_date_picker = _resolveComponent(\"van-date-picker\");\n  const _component_van_config_provider = _resolveComponent(\"van-config-provider\");\n  return _openBlock(), _createBlock(_component_van_config_provider, {\n    \"theme-vars\": $data.themeVars\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"img\", {\n      src: $data.topUrl,\n      alt: \"\"\n    }, null, 8 /* PROPS */, _hoisted_3), _createElementVNode(\"div\", _hoisted_4, \" 请选择\" + _toDisplayString(String($data.cidArray.map(item => {\n      return $data.dateMap.get(item * 1);\n    }))) + \"症状类型 \", 1 /* TEXT */)]), _withDirectives(_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_van_form, {\n      onSubmit: _ctx.onSubmit,\n      \"label-width\": \"6rem\",\n      \"input-align\": \"right\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_van_cell_group, {\n        inset: \"\"\n      }, {\n        default: _withCtx(() => [_hoisted_6, this.$route.query.pet_typeid == 0 ? (_openBlock(), _createBlock(_component_van_field, {\n          key: 0,\n          onClick: $options.choicePet_type,\n          readonly: \"\",\n          modelValue: $data.pet_type.name,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.pet_type.name = $event),\n          label: \"宠物品种\",\n          placeholder: \"请选择宠物品种\"\n        }, null, 8 /* PROPS */, [\"onClick\", \"modelValue\"])) : _createCommentVNode(\"v-if\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.formList, (item, index) => {\n          return _openBlock(), _createElementBlock(_Fragment, {\n            key: item.title\n          }, [item.type === 1 && item.list.length != 0 ? (_openBlock(), _createBlock(_component_van_field, {\n            key: 0,\n            label: item.title\n          }, {\n            input: _withCtx(() => [_createElementVNode(\"div\", null, [_createVNode(_component_van_radio_group, {\n              modelValue: $data.formIds[index],\n              \"onUpdate:modelValue\": $event => $data.formIds[index] = $event,\n              direction: \"horizontal\",\n              \"icon-size\": \"1.5rem\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_van_radio, {\n                name: item.list[0].cid,\n                onClick: $event => $options.chageRadio(index, 0, item.list)\n              }, {\n                default: _withCtx(() => [_createTextVNode(_toDisplayString(item.list[0].title), 1 /* TEXT */)]),\n\n                _: 2 /* DYNAMIC */\n              }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"name\", \"onClick\"]), _createVNode(_component_van_radio, {\n                name: item.list[1].cid,\n                onClick: $event => $options.chageRadio(index, 1, item.list)\n              }, {\n                default: _withCtx(() => [_createTextVNode(_toDisplayString(item.list[1].title), 1 /* TEXT */)]),\n\n                _: 2 /* DYNAMIC */\n              }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"name\", \"onClick\"])]),\n              _: 2 /* DYNAMIC */\n            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"modelValue\", \"onUpdate:modelValue\"])])]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"label\"])) : _createCommentVNode(\"v-if\", true), item.type === 2 ? (_openBlock(), _createBlock(_component_van_field, {\n            key: 1,\n            onClick: $options.choicePet_age,\n            readonly: \"\",\n            modelValue: $options.ageString,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $options.ageString = $event),\n            label: item.title,\n            placeholder: \"请选择宠物年龄\"\n          }, null, 8 /* PROPS */, [\"onClick\", \"modelValue\", \"label\"])) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */);\n        }), 128 /* KEYED_FRAGMENT */))]),\n\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onSubmit\"]), _createElementVNode(\"div\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.symptom, item => {\n      return _openBlock(), _createBlock(_component_van_button, {\n        class: _normalizeClass({\n          choicebtn: item.cid === $data.choiceCid\n        }),\n        key: item.cid,\n        round: \"\",\n        type: \"default\",\n        onClick: _withModifiers($event => $options.changeCid(item.cid), [\"prevent\"])\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(item.title), 1 /* TEXT */)]),\n\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"class\", \"onClick\"]);\n    }), 128 /* KEYED_FRAGMENT */))])], 512 /* NEED_PATCH */), [[_vShow, $data.isFirst]]), _createVNode(_component_detail_list, {\n      cid: $data.choiceCid,\n      detailList: $data.detailList,\n      getAll: $data.getAll\n    }, null, 8 /* PROPS */, [\"cid\", \"detailList\", \"getAll\"])]), _createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_van_button, {\n      round: \"\",\n      type: \"default\",\n      onClick: _cache[2] || (_cache[2] = $event => $options.Preview()),\n      class: \"detailbutton\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"预览病症\")]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_van_button, {\n      round: \"\",\n      type: \"default\",\n      onClick: _cache[3] || (_cache[3] = $event => $options.nextResult()),\n      class: \"nextbutton\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"下一步\")]),\n      _: 1 /* STABLE */\n    })]), _createCommentVNode(\" 写dialog的div \"), _createElementVNode(\"div\", null, [_createVNode(_component_van_popup, {\n      class: \"pet_typeClass\",\n      show: $data.showChoicepet_type,\n      \"onUpdate:show\": _cache[6] || (_cache[6] = $event => $data.showChoicepet_type = $event),\n      position: \"bottom\",\n      round: \"\",\n      style: {\n        height: '60%'\n      }\n    }, {\n      default: _withCtx(() => [_hoisted_9, _createElementVNode(\"div\", _hoisted_10, [_createVNode(_component_index_bar, {\n        isShow: $data.showChoicepet_type,\n        \"onUpdate:isShow\": _cache[4] || (_cache[4] = $event => $data.showChoicepet_type = $event),\n        bacObj: $data.pet_type,\n        \"onUpdate:bacObj\": _cache[5] || (_cache[5] = $event => $data.pet_type = $event),\n        choicelist: $data.pet_typeList\n      }, null, 8 /* PROPS */, [\"isShow\", \"bacObj\", \"choicelist\"])])]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"show\"]), _createVNode(_component_van_popup, {\n      class: \"ageClass\",\n      show: $data.showChoicepet_age,\n      \"onUpdate:show\": _cache[9] || (_cache[9] = $event => $data.showChoicepet_age = $event),\n      position: \"bottom\",\n      round: \"\",\n      style: {\n        height: '60%'\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_van_date_picker, {\n        onCancel: _cache[7] || (_cache[7] = $event => this.showChoicepet_age = false),\n        onConfirm: $options.changeAge,\n        modelValue: $data.ageTime,\n        \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.ageTime = $event),\n        title: \"选择日期\",\n        \"max-date\": new Date()\n      }, null, 8 /* PROPS */, [\"onConfirm\", \"modelValue\", \"max-date\"])]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"show\"]), _createCommentVNode(\" 显示预览 \"), _createVNode(_component_van_popup, {\n      class: \"pet_typeClass\",\n      show: $data.showPreview,\n      \"onUpdate:show\": _cache[11] || (_cache[11] = $event => $data.showPreview = $event),\n      position: \"bottom\",\n      round: \"\",\n      style: {\n        height: '50%'\n      }\n    }, {\n      default: _withCtx(() => [_hoisted_11, _createElementVNode(\"div\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.previewList, item => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: item.title,\n          class: \"preview-nav\"\n        }, [_createElementVNode(\"b\", null, _toDisplayString(item.title) + \":\", 1 /* TEXT */), item.is_img ? (_openBlock(true), _createElementBlock(_Fragment, {\n          key: 0\n        }, _renderList(item.list, item2 => {\n          return _openBlock(), _createElementBlock(\"img\", {\n            key: item2.cid,\n            src: item2.img,\n            alt: \".\",\n            class: \"preview-img\"\n          }, null, 8 /* PROPS */, _hoisted_12);\n        }), 128 /* KEYED_FRAGMENT */)) : (_openBlock(true), _createElementBlock(_Fragment, {\n          key: 1\n        }, _renderList(item.list, btn => {\n          return _openBlock(), _createBlock(_component_van_button, {\n            size: \"small\",\n            plain: \"\",\n            key: btn.cid,\n            round: \"\",\n            style: {\n              \"margin\": \"5px\"\n            },\n            color: \"#30abb3\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(btn.title), 1 /* TEXT */)]),\n\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */);\n        }), 128 /* KEYED_FRAGMENT */))]);\n      }), 128 /* KEYED_FRAGMENT */))]), _createVNode(_component_van_button, {\n        round: \"\",\n        type: \"default\",\n        onClick: _cache[10] || (_cache[10] = $event => $data.showPreview = false),\n        class: \"cencelpreview\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"取消预览病症\")]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"show\"])])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"theme-vars\"]);\n}","map":{"version":3,"mappings":";;;EAEaA,KAA4B,EAA5B;IAAA;EAAA;AAA4B;;EACxBC,KAAK,EAAC;AAAS;;;EAEXA,KAAK,EAAC;AAAc;;EAIxBA,KAAK,EAAC;AAAW;gEAIVC,oBAAgB,YAAZ,SAAO;;EA2BdD,KAAK,EAAC;AAAa;;EAU3BA,KAAK,EAAC;AAAY;gEAQfC,oBAGM;EAHDD,KAAK,EAAC;AAAK,iBACZC,oBAAe,YAAX,QAAM,gBACVA,oBAAI;;EAGHD,KAAK,EAAC;AAAQ;iEAanBC,oBAGM;EAHDD,KAAK,EAAC;AAAK,iBACZC,oBAAe,YAAX,QAAM,gBACVA,oBAAI;;;;;;;;;;;;;;uBA7EpBC,aAiGsBC;IAjGA,YAAU,EAAEC;EAAS;sBACvC,MA+CM,CA/CNH,oBA+CM,OA/CNI,UA+CM,GA9CFJ,oBAKM,OALNK,UAKM,GAJFL,oBAA4B;MAAtBM,GAAG,EAAEH,YAAM;MAAEI,GAAG,EAAC;yCACvBP,oBAEM,OAFNQ,UAEM,EAFoB,MACnB,oBAAGC,MAAM,CAACN,cAAQ,CAACO,GAAG,CAAEC,IAAI;MAAA,OAAcR,aAAO,CAACS,GAAG,CAACD,IAAI;IAAA,OAAY,OAC7E,mCAEJX,oBAqCM,OArCNa,UAqCM,GAnCFC,aA4BWC;MA5BAC,QAAM,EAAEC,aAAQ;MAAE,aAAW,EAAC,MAAM;MAAC,aAAW,EAAC;;wBACxD,MA0BiB,CA1BjBH,aA0BiBI;QA1BDC,KAAK,EAAL;MAAK;0BACjB,MAAgB,CAAhBC,UAAgB,OACMC,MAAM,CAACC,KAAK,CAACC,UAAU,uBAA7CtB,aACiEuB;;UADZC,OAAK,EAAEC,uBAAc;UAAEC,QAAQ,EAAR,EAAQ;sBACvExB,cAAQ,CAACyB,IAAI;qEAAbzB,cAAQ,CAACyB,IAAI;UAAEC,KAAK,EAAC,MAAM;UAACC,WAAW,EAAC;oHACrDC,oBAmBWC,6BAnBuB7B,cAAQ,GAAxBQ,IAAI,EAAEsB,KAAK;;iBAAqBtB,IAAI,CAACuB;cAClCvB,IAAI,CAACwB,IAAI,UAAUxB,IAAI,CAACyB,IAAI,CAACC,MAAM,uBAApDpC,aAcYuB;;YAdgDK,KAAK,EAAElB,IAAI,CAACuB;;YACzDI,KAAK,WACZ,MAUM,CAVNtC,oBAUM,cATFc,aAQkByB;0BARQpC,aAAO,CAAC8B,KAAK;+CAAb9B,aAAO,CAAC8B,KAAK;cAAGO,SAAS,EAAC,YAAY;cAC5D,WAAS,EAAC;;gCACV,MAEkB,CAFlB1B,aAEkB2B;gBAFNb,IAAI,EAAEjB,IAAI,CAACyB,IAAI,IAAIM,GAAG;gBAC7BjB,OAAK,YAAEC,mBAAU,CAACO,KAAK,KAAKtB,IAAI,CAACyB,IAAI;;kCAAG,MACvC,mCAD0CzB,IAAI,CAACyB,IAAI,IAAIF,KAAK;;;wEAElEpB,aAEkB2B;gBAFNb,IAAI,EAAEjB,IAAI,CAACyB,IAAI,IAAIM,GAAG;gBAC7BjB,OAAK,YAAEC,mBAAU,CAACO,KAAK,KAAKtB,IAAI,CAACyB,IAAI;;kCAAG,MACvC,mCAD0CzB,IAAI,CAACyB,IAAI,IAAIF,KAAK;;;;;;;+FAM1CvB,IAAI,CAACwB,IAAI,wBAAjDlC,aACgDuB;;YADpCC,OAAK,EAAEC,sBAAa;YAAyBC,QAAQ,EAAR,EAAQ;wBAAUD,kBAAS;uEAATA,kBAAS;YAC/EG,KAAK,EAAElB,IAAI,CAACuB,KAAK;YAAEJ,WAAW,EAAC;;;;;;;;qCAOhD9B,oBAKM,OALN2C,UAKM,sBAJFZ,oBAGmBC,6BAHuD7B,aAAO,EAAfQ,IAAI;2BAAtEV,aAGmB2C;QAHN7C,KAAK;UAAA8C,WAAelC,IAAI,CAAC+B,GAAG,KAAKvC;QAAS;QAA6B2C,GAAG,EAAEnC,IAAI,CAAC+B,GAAG;QAC7FK,KAAK,EAAL,EAAK;QAACZ,IAAI,EAAC,SAAS;QAAEV,OAAK,2BAAUC,kBAAS,CAACf,IAAI,CAAC+B,GAAG;;0BAAG,MAExD,mCADM/B,IAAI,CAACuB,KAAK;;;;wEAlCC/B,aAAO,KAsCtCW,aAAsFkC;MAAxEN,GAAG,EAAEvC,eAAS;MAAG8C,UAAU,EAAE9C,gBAAU;MAAG+C,MAAM,EAAE/C;gEAGpEH,oBAGM,OAHNmD,UAGM,GAFFrC,aAA0F8B;MAA9EG,KAAK,EAAL,EAAK;MAACZ,IAAI,EAAC,SAAS;MAAEV,OAAK,sCAAEC,gBAAO;MAAI3B,KAAK,EAAC;;wBAAe,MAAI,kBAAJ,MAAI;;QAC7Ee,aAA0F8B;MAA9EG,KAAK,EAAL,EAAK;MAACZ,IAAI,EAAC,SAAS;MAAEV,OAAK,sCAAEC,mBAAU;MAAI3B,KAAK,EAAC;;wBAAa,MAAG,kBAAH,KAAG;;UAEjFqD,oCAAoB,EACpBpD,oBA0CM,cAzCFc,aAWYuC;MAXDtD,KAAK,EAAC,eAAe;MAASuD,IAAI,EAAEnD,wBAAkB;2DAAlBA,wBAAkB;MAAEoD,QAAQ,EAAC,QAAQ;MAACR,KAAK,EAAL,EAAK;MACrFjD,KAAK,EAAE;QAAA0D;MAAA;;wBACR,MAGM,CAHNC,UAGM,EAENzD,oBAGM,OAHN0D,WAGM,GAFF5C,aAC2C6C;QADxBC,MAAM,EAAEzD,wBAAkB;+DAAlBA,wBAAkB;QAAU0D,MAAM,EAAE1D,cAAQ;+DAARA,cAAQ;QAClE2D,UAAU,EAAE3D;;;iCAGzBW,aAIYuC;MAJDtD,KAAK,EAAC,UAAU;MAASuD,IAAI,EAAEnD,uBAAiB;2DAAjBA,uBAAiB;MAAEoD,QAAQ,EAAC,QAAQ;MAACR,KAAK,EAAL,EAAK;MAC/EjD,KAAK,EAAE;QAAA0D;MAAA;;wBACR,MAC0C,CAD1C1C,aAC0CiD;QADxBC,QAAM,2CAAOC,iBAAiB;QAAWC,SAAO,EAAExC,kBAAS;oBAAWvB,aAAO;mEAAPA,aAAO;QAC3F+B,KAAK,EAAC,MAAM;QAAE,UAAQ,MAAMiC,IAAI;;;iCAExCf,6BAAa,EACbtC,aAsBYuC;MAtBDtD,KAAK,EAAC,eAAe;MAASuD,IAAI,EAAEnD,iBAAW;6DAAXA,iBAAW;MAAEoD,QAAQ,EAAC,QAAQ;MAACR,KAAK,EAAL,EAAK;MAC9EjD,KAAK,EAAE;QAAA0D;MAAA;;wBACR,MAGM,CAHNY,WAGM,EACNpE,oBAcM,iCAbF+B,oBAYMC,6BAZc7B,iBAAW,EAAnBQ,IAAI;6BAAhBoB,oBAYM;UAZ4Be,GAAG,EAAEnC,IAAI,CAACuB,KAAK;UAAEnC,KAAK,EAAC;YACrDC,oBAAwB,4BAAlBW,IAAI,CAACuB,KAAK,IAAG,GAAC,iBACJvB,IAAI,CAAC0D,MAAM,sBACvBtC,oBAC0BC;UAAAc;QAAA,eADLnC,IAAI,CAACyB,IAAI,EAAlBkC,KAAK;+BAAjBvC,oBAC0B;YADOe,GAAG,EAAEwB,KAAK,CAAC5B,GAAG;YAAGpC,GAAG,EAAEgE,KAAK,CAACC,GAAG;YAAEhE,GAAG,EAAC,GAAG;YACrER,KAAK,EAAC;;4DAGVgC,oBAGmBC;UAAAc;QAAA,eAHoBnC,IAAI,CAACyB,IAAI,EAAhBoC,GAAG;+BAAnCvE,aAGmB2C;YAHP6B,IAAI,EAAC,OAAO;YAA0BC,KAAK,EAAL,EAAK;YAAE5B,GAAG,EAAE0B,GAAG,CAAC9B,GAAG;YAAEK,KAAK,EAAL,EAAK;YACxEjD,KAAkB,EAAlB;cAAA;YAAA,CAAkB;YAAC6E,KAAK,EAAC;;8BAAU,MAEjC,mCADMH,GAAG,CAACtC,KAAK;;;;;wCAKjCpB,aAAuG8B;QAA3FG,KAAK,EAAL,EAAK;QAACZ,IAAI,EAAC,SAAS;QAAEV,OAAK,wCAAEtB,iBAAW;QAAUJ,KAAK,EAAC;;0BAAgB,MAAM,kBAAN,QAAM","names":["style","class","_createElementVNode","_createBlock","_component_van_config_provider","$data","_hoisted_1","_hoisted_2","src","alt","_hoisted_4","String","map","item","get","_hoisted_5","_createVNode","_component_van_form","onSubmit","_ctx","_component_van_cell_group","inset","_hoisted_6","$route","query","pet_typeid","_component_van_field","onClick","$options","readonly","name","label","placeholder","_createElementBlock","_Fragment","index","title","type","list","length","input","_component_van_radio_group","direction","_component_van_radio","cid","_hoisted_7","_component_van_button","choicebtn","key","round","_component_detail_list","detailList","getAll","_hoisted_8","_createCommentVNode","_component_van_popup","show","position","height","_hoisted_9","_hoisted_10","_component_index_bar","isShow","bacObj","choicelist","_component_van_date_picker","onCancel","showChoicepet_age","onConfirm","Date","_hoisted_11","is_img","item2","img","btn","size","plain","color"],"sourceRoot":"","sources":["C:\\Code\\VScode\\VUE\\项目\\01-xiaoms\\src\\views\\xiaomengshu\\ToolView\\Illness\\IllnessForm.vue"],"sourcesContent":["<template>\r\n    <van-config-provider :theme-vars=\"themeVars\">\r\n        <div style=\"padding-bottom:60px;\">\r\n            <div class=\"top-img\">\r\n                <img :src=\"topUrl\" alt=\"\" />\r\n                <div class=\"top-reminder\">\r\n                    请选择{{ String(cidArray.map((item) => { return dateMap.get(item * 1) })) }}症状类型\r\n                </div>\r\n            </div>\r\n            <div class=\"main-form\" v-show=\"isFirst\">\r\n\r\n                <van-form @submit=\"onSubmit\" label-width=\"6rem\" input-align=\"right\">\r\n                    <van-cell-group inset>\r\n                        <h3>请填写基本信息</h3>\r\n                        <van-field v-if=\"this.$route.query.pet_typeid == 0\" @click=\"choicePet_type\" readonly\r\n                            v-model=\"pet_type.name\" label=\"宠物品种\" placeholder=\"请选择宠物品种\" />\r\n                        <template v-for=\"(item, index) in formList\" :key=\"item.title\">\r\n                            <van-field v-if=\"item.type === 1 && item.list.length != 0\" :label=\"item.title\">\r\n                                <template #input>\r\n                                    <div>\r\n                                        <van-radio-group v-model=\"formIds[index]\" direction=\"horizontal\"\r\n                                            icon-size=\"1.5rem\">\r\n                                            <van-radio :name=\"item.list[0].cid\"\r\n                                                @click=\"chageRadio(index, 0, item.list)\">{{ item.list[0].title\r\n                                                }}</van-radio>\r\n                                            <van-radio :name=\"item.list[1].cid\"\r\n                                                @click=\"chageRadio(index, 1, item.list)\">{{ item.list[1].title\r\n                                                }}</van-radio>\r\n                                        </van-radio-group>\r\n                                    </div>\r\n                                </template>\r\n                            </van-field>\r\n                            <van-field @click=\"choicePet_age\" v-if=\"item.type === 2\" readonly v-model=\"ageString\"\r\n                                :label=\"item.title\" placeholder=\"请选择宠物年龄\" />\r\n\r\n                        </template>\r\n\r\n\r\n                    </van-cell-group>\r\n                </van-form>\r\n                <div class=\"symptom-btn\">\r\n                    <van-button :class=\"{ choicebtn: item.cid === choiceCid }\" v-for=\"item in symptom\" :key=\"item.cid\"\r\n                        round type=\"default\" @click.prevent=\"changeCid(item.cid)\">{{\r\n                                item.title\r\n                        }}</van-button>\r\n                </div>\r\n            </div>\r\n            <detail-list :cid=\"choiceCid\" :detailList=\"detailList\" :getAll=\"getAll\"></detail-list>\r\n\r\n        </div>\r\n        <div class=\"botton-btn\">\r\n            <van-button round type=\"default\" @click=\"Preview()\" class=\"detailbutton\">预览病症</van-button>\r\n            <van-button round type=\"default\" @click=\"nextResult()\" class=\"nextbutton\">下一步</van-button>\r\n        </div>\r\n        <!-- 写dialog的div -->\r\n        <div>\r\n            <van-popup class=\"pet_typeClass\" v-model:show=\"showChoicepet_type\" position=\"bottom\" round\r\n                :style=\"{ height: '60%' }\">\r\n                <div class=\"top\">\r\n                    <h2>选择宠物品种</h2>\r\n                    <hr>\r\n                </div>\r\n\r\n                <div class=\"choice\">\r\n                    <index-bar v-model:isShow=\"showChoicepet_type\" v-model:bacObj=\"pet_type\"\r\n                        :choicelist=\"pet_typeList\"></index-bar>\r\n                </div>\r\n            </van-popup>\r\n            <van-popup class=\"ageClass\" v-model:show=\"showChoicepet_age\" position=\"bottom\" round\r\n                :style=\"{ height: '60%' }\">\r\n                <van-date-picker @cancel=\"this.showChoicepet_age = false\" @confirm=\"changeAge\" v-model=\"ageTime\"\r\n                    title=\"选择日期\" :max-date=\"new Date()\" />\r\n            </van-popup>\r\n            <!-- 显示预览 -->\r\n            <van-popup class=\"pet_typeClass\" v-model:show=\"showPreview\" position=\"bottom\" round\r\n                :style=\"{ height: '50%' }\">\r\n                <div class=\"top\">\r\n                    <h2>当前已选症状</h2>\r\n                    <hr>\r\n                </div>\r\n                <div>\r\n                    <div v-for=\"item in previewList\" :key=\"item.title\" class=\"preview-nav\">\r\n                        <b>{{ item.title }}:</b>\r\n                        <template v-if=\"item.is_img\">\r\n                            <img v-for=\"item2 in item.list\" :key=\"item2.cid\" :src=\"item2.img\" alt=\".\"\r\n                                class=\"preview-img\" />\r\n                        </template>\r\n                        <template v-else>\r\n                            <van-button size=\"small\" v-for=\"btn in item.list\" plain :key=\"btn.cid\" round\r\n                                style=\"margin:5px\" color=\"#30abb3\">{{\r\n                                        btn.title\r\n                                }}</van-button>\r\n                        </template>\r\n                    </div>\r\n                </div>\r\n                <van-button round type=\"default\" @click=\"showPreview = false\" class=\"cencelpreview\">取消预览病症</van-button>\r\n            </van-popup>\r\n        </div>\r\n    </van-config-provider>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { getIlnessList, getUserPet, getpreviewList } from \"@/api/xiaomengshu\"\r\nimport DetailList from '../../../../components/xiaomengshu/Illness/DetailList.vue';\r\nimport IndexBar from \"../../../../components/xiaomengshu/Illness/IndexBar.vue\"\r\nexport default {\r\n    components: { DetailList, IndexBar },\r\n    data() {\r\n        return {\r\n            formIds: [],\r\n            formNo_ids: [],\r\n            date: [],\r\n            dateMap: new Map,\r\n            pet_typeid: 0,\r\n            cidArray: [],\r\n            topUrl: \"https://static.epetbar.com/epet_wap_img/tools/h_infohead.png\",\r\n            formList: [],\r\n            symptom: [],\r\n            pet_type: {},\r\n            pet_typeList: [],\r\n            showChoicepet_type: false,\r\n            showChoicepet_age: false,\r\n            ageTime: new Array,\r\n            choiceCid: 0,\r\n            detailList: [],\r\n            ids: [],\r\n            no_ids: [],\r\n            themeVars: {\r\n                radioLabelColor: '#c8c9cc',\r\n                buttonNormalFontSize: '1.2rem'\r\n            },\r\n            isFirst: true,\r\n            againDetail: [],\r\n            againDetailNum: -2,\r\n            showPreview: false,\r\n            previewList: [],\r\n            getAll: 0,\r\n            cidList: []\r\n        }\r\n    },\r\n    provide() {\r\n        return {\r\n            ids: this.ids,\r\n            no_ids: this.no_ids\r\n        }\r\n\r\n    },\r\n\r\n    async created() {\r\n        this.pet_typeid = this.$store.state.pet_typeid;\r\n        await this.getList(0);\r\n        this.date.forEach((item) => {\r\n            this.dateMap.set(item.cid, item.title);\r\n        })\r\n        const { cids: cidArray } = this.$route.query;\r\n\r\n        this.cidArray = cidArray.split(\",\");\r\n        await this.getFormList();\r\n        await this.getSySmptomList();\r\n        this.ageTime = [];\r\n\r\n    },\r\n    computed: {\r\n        ageString() {\r\n            return String(this.ageTime).replaceAll(',', '-');\r\n        }\r\n    },\r\n    methods: {\r\n        async getList(site) {\r\n            let res = await getIlnessList({\r\n                do: \"DepartmentList\",\r\n                site: site + 1,\r\n            });\r\n            //   console.log(res);\r\n            this.date = [];\r\n            res.data.forEach((element) => {\r\n                if (element.relate_basic_cid.length) {\r\n                    //   console.log(element.title);\r\n                    this.date.push(element);\r\n                }\r\n            });\r\n            this.pet_typeid = site;\r\n            //   this.date.pop();\r\n        },\r\n        //获取form表单\r\n        async getFormList() {\r\n            let res = await getIlnessList({\r\n                do: \"BasicSituateList\",\r\n                cids: String(this.cidArray),\r\n            });\r\n            this.formList = res.data;\r\n            console.log(this.formList)\r\n        },\r\n        outpet_type() {\r\n            console.log(this.pet_type)\r\n        },\r\n        //获取症状列表\r\n        async getSySmptomList() {\r\n            let res = await getIlnessList({\r\n                do: \"DepartmentSonList\",\r\n                cids: String(this.cidArray),\r\n            });\r\n            this.symptom = res.data;\r\n        },\r\n        //获取详情列表\r\n        async getDetailList() {\r\n            let res = await getIlnessList({\r\n                do: \"SymptomList\",\r\n                cid: this.choiceCid,\r\n            });\r\n            this.detailList = res.data;\r\n            this.getAll += 1;\r\n\r\n        },\r\n        changeCid(cid) {\r\n            this.choiceCid = cid;\r\n            if (this.cidList.indexOf(cid) == -1)\r\n                this.cidList.push(cid);\r\n            this.getDetailList();\r\n        },\r\n        //点击下一步\r\n        async nextResult() {\r\n            this.getAll += 1;\r\n            this.$nextTick(async () => {\r\n                console.log(111)\r\n                if (this.isFirst || this.againDetailNum == -1) {\r\n                    let res = await getIlnessList({\r\n                        do: \"result\",\r\n                        ids: String([...this.formIds, ...this.ids]),\r\n                        no_ids: String([...this.formNo_ids, ...this.no_ids]),\r\n                        cid: String(this.cidList),\r\n                        age: this.ageString,\r\n                        pt_type: this.pet_type.id,\r\n                    });\r\n                    if (res.data.is_result <= 1) {\r\n                        this.$store.state.illnessresultList = res.data.result_list;\r\n                        this.$router.push({\r\n                            name: 'illnesspage',\r\n                            query: {\r\n                                type: res.data.is_result,\r\n                            }\r\n                        })\r\n                    }\r\n                    else if (this.isFirst) {\r\n                        this.againDetail = res.data.symptom_list\r\n                        this.againDetailNum = res.data.symptom_list.length - 1;\r\n                        this.isFirst = false;\r\n                        this.detailList = this.againDetail[this.againDetailNum].combination;\r\n                        this.againDetailNum--;\r\n                    }\r\n                }\r\n                else {\r\n                    this.detailList = this.againDetail[this.againDetailNum].combination;\r\n                    this.againDetailNum--;\r\n                }\r\n            })\r\n\r\n\r\n        },\r\n        async choicePet_type() {\r\n            this.showChoicepet_type = true;\r\n            let res = await getUserPet({ do: 'GetPettype' });\r\n            this.pet_typeList = res.list;\r\n        },\r\n        choicePet_age() {\r\n            this.showChoicepet_age = true;\r\n        },\r\n        changeAge({ selectedValues }) {\r\n            this.ageTime = selectedValues\r\n            this.showChoicepet_age = false\r\n        },\r\n        chageRadio(index, type, list) {\r\n            this.formIds[index] = list[type].cid;\r\n            this.formNo_ids[index] = list[type ^ 1].cid;\r\n        },\r\n        Preview() {\r\n            this.getAll += 1;\r\n            this.$nextTick(async () => {\r\n                let res = await getpreviewList({\r\n                    do: \"CheckList\",\r\n                    ids: String(this.ids)\r\n                });\r\n                this.previewList = res.data;\r\n                this.showPreview = true;\r\n            })\r\n        }\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.top-img {\r\n    width: 100%;\r\n    position: relative;\r\n\r\n    &>img {\r\n        width: 100%;\r\n    }\r\n\r\n    .top-reminder {\r\n\r\n        font-size: 1.3rem;\r\n        font-weight: 600;\r\n        position: absolute;\r\n        top: 20%;\r\n        left: 25%;\r\n        padding: 2rem;\r\n        background-size: 100% 100%;\r\n        background-image: url(@/assets/xiaomengshu/illnessreminder.png);\r\n    }\r\n}\r\n\r\n.main-form {\r\n    font-size: 1.2rem;\r\n\r\n    .van-cell {\r\n        font-size: 1rem;\r\n\r\n    }\r\n}\r\n\r\n.symptom-btn {\r\n    margin: 16px;\r\n\r\n    button {\r\n        margin-left: 1rem;\r\n        margin-bottom: 1rem;\r\n    }\r\n\r\n    .choicebtn {\r\n        color: #30abb3;\r\n        border-color: #30abb3;\r\n    }\r\n}\r\n\r\n.botton-btn {\r\n    position: fixed;\r\n    display: flex;\r\n    bottom: 0;\r\n    width: 100%;\r\n    background-color: white;\r\n    padding: 10px 16px;\r\n    justify-content: space-between;\r\n    box-sizing: border-box;\r\n\r\n\r\n    .nextbutton {\r\n        color: white;\r\n        background-color: #30abb3;\r\n        margin-left: 1rem;\r\n        font-size: 1.5rem;\r\n    }\r\n\r\n    .detailbutton {\r\n        color: #30abb3;\r\n        border-color: #30abb3;\r\n        font-size: 1.5rem;\r\n    }\r\n\r\n    button {\r\n        flex: auto\r\n    }\r\n}\r\n\r\n::v-deep .pet_typeClass {\r\n    text-align: center;\r\n    padding: 0 16px;\r\n    box-sizing: border-box;\r\n    display: flex;\r\n    flex-flow: column;\r\n\r\n    .top {\r\n        h2 {\r\n            text-align: center;\r\n        }\r\n    }\r\n\r\n    .choice {\r\n        flex-grow: 1;\r\n        height: 0;\r\n    }\r\n\r\n}\r\n\r\n.preview-nav {\r\n    text-align: left;\r\n    margin: 10px 0;\r\n}\r\n\r\n.preview-img {\r\n    vertical-align: top !important;\r\n    margin: 5px;\r\n    width: 6rem;\r\n    height: 6rem;\r\n    background-size: cover;\r\n    border-radius: 10px;\r\n}\r\n\r\n.cencelpreview {\r\n    position: fixed;\r\n    bottom: 20px;\r\n    left: 50%;\r\n    transform: translateX(50%);\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}