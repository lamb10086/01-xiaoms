{"ast":null,"code":"import { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\nimport { extend, inBrowser } from \"../utils/index.mjs\";\nimport { mountComponent, usePopupState } from \"../utils/mount-component.mjs\";\nimport VanImagePreview from \"./ImagePreview.mjs\";\nlet instance;\nconst defaultConfig = {\n  loop: true,\n  images: [],\n  maxZoom: 3,\n  minZoom: 1 / 3,\n  onScale: void 0,\n  onClose: void 0,\n  onChange: void 0,\n  teleport: \"body\",\n  className: \"\",\n  showIndex: true,\n  closeable: false,\n  closeIcon: \"clear\",\n  transition: void 0,\n  beforeClose: void 0,\n  overlayStyle: void 0,\n  overlayClass: void 0,\n  startPosition: 0,\n  swipeDuration: 300,\n  showIndicators: false,\n  closeOnPopstate: true,\n  closeIconPosition: \"top-right\"\n};\nfunction initInstance() {\n  ({\n    instance\n  } = mountComponent({\n    setup() {\n      const {\n        state,\n        toggle\n      } = usePopupState();\n      const onClosed = () => {\n        state.images = [];\n      };\n      return () => _createVNode(VanImagePreview, _mergeProps(state, {\n        \"onClosed\": onClosed,\n        \"onUpdate:show\": toggle\n      }), null);\n    }\n  }));\n}\nconst showImagePreview = (options, startPosition = 0) => {\n  if (!inBrowser) {\n    return;\n  }\n  if (!instance) {\n    initInstance();\n  }\n  options = Array.isArray(options) ? {\n    images: options,\n    startPosition\n  } : options;\n  instance.open(extend({}, defaultConfig, options));\n  return instance;\n};\nexport { showImagePreview };","map":{"version":3,"names":["createVNode","_createVNode","mergeProps","_mergeProps","extend","inBrowser","mountComponent","usePopupState","VanImagePreview","instance","defaultConfig","loop","images","maxZoom","minZoom","onScale","onClose","onChange","teleport","className","showIndex","closeable","closeIcon","transition","beforeClose","overlayStyle","overlayClass","startPosition","swipeDuration","showIndicators","closeOnPopstate","closeIconPosition","initInstance","setup","state","toggle","onClosed","showImagePreview","options","Array","isArray","open"],"sources":["C:/Users/yangp/Desktop/01-xiaoms/node_modules/vant/es/image-preview/function-call.mjs"],"sourcesContent":["import { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\r\nimport { extend, inBrowser } from \"../utils/index.mjs\";\r\nimport { mountComponent, usePopupState } from \"../utils/mount-component.mjs\";\r\nimport VanImagePreview from \"./ImagePreview.mjs\";\r\nlet instance;\r\nconst defaultConfig = {\r\n  loop: true,\r\n  images: [],\r\n  maxZoom: 3,\r\n  minZoom: 1 / 3,\r\n  onScale: void 0,\r\n  onClose: void 0,\r\n  onChange: void 0,\r\n  teleport: \"body\",\r\n  className: \"\",\r\n  showIndex: true,\r\n  closeable: false,\r\n  closeIcon: \"clear\",\r\n  transition: void 0,\r\n  beforeClose: void 0,\r\n  overlayStyle: void 0,\r\n  overlayClass: void 0,\r\n  startPosition: 0,\r\n  swipeDuration: 300,\r\n  showIndicators: false,\r\n  closeOnPopstate: true,\r\n  closeIconPosition: \"top-right\"\r\n};\r\nfunction initInstance() {\r\n  ({\r\n    instance\r\n  } = mountComponent({\r\n    setup() {\r\n      const {\r\n        state,\r\n        toggle\r\n      } = usePopupState();\r\n      const onClosed = () => {\r\n        state.images = [];\r\n      };\r\n      return () => _createVNode(VanImagePreview, _mergeProps(state, {\r\n        \"onClosed\": onClosed,\r\n        \"onUpdate:show\": toggle\r\n      }), null);\r\n    }\r\n  }));\r\n}\r\nconst showImagePreview = (options, startPosition = 0) => {\r\n  if (!inBrowser) {\r\n    return;\r\n  }\r\n  if (!instance) {\r\n    initInstance();\r\n  }\r\n  options = Array.isArray(options) ? {\r\n    images: options,\r\n    startPosition\r\n  } : options;\r\n  instance.open(extend({}, defaultConfig, options));\r\n  return instance;\r\n};\r\nexport {\r\n  showImagePreview\r\n};\r\n"],"mappings":"AAAA,SAASA,WAAW,IAAIC,YAAY,EAAEC,UAAU,IAAIC,WAAW,QAAQ,KAAK;AAC5E,SAASC,MAAM,EAAEC,SAAS,QAAQ,oBAAoB;AACtD,SAASC,cAAc,EAAEC,aAAa,QAAQ,8BAA8B;AAC5E,OAAOC,eAAe,MAAM,oBAAoB;AAChD,IAAIC,QAAQ;AACZ,MAAMC,aAAa,GAAG;EACpBC,IAAI,EAAE,IAAI;EACVC,MAAM,EAAE,EAAE;EACVC,OAAO,EAAE,CAAC;EACVC,OAAO,EAAE,CAAC,GAAG,CAAC;EACdC,OAAO,EAAE,KAAK,CAAC;EACfC,OAAO,EAAE,KAAK,CAAC;EACfC,QAAQ,EAAE,KAAK,CAAC;EAChBC,QAAQ,EAAE,MAAM;EAChBC,SAAS,EAAE,EAAE;EACbC,SAAS,EAAE,IAAI;EACfC,SAAS,EAAE,KAAK;EAChBC,SAAS,EAAE,OAAO;EAClBC,UAAU,EAAE,KAAK,CAAC;EAClBC,WAAW,EAAE,KAAK,CAAC;EACnBC,YAAY,EAAE,KAAK,CAAC;EACpBC,YAAY,EAAE,KAAK,CAAC;EACpBC,aAAa,EAAE,CAAC;EAChBC,aAAa,EAAE,GAAG;EAClBC,cAAc,EAAE,KAAK;EACrBC,eAAe,EAAE,IAAI;EACrBC,iBAAiB,EAAE;AACrB,CAAC;AACD,SAASC,YAAY,GAAG;EACtB,CAAC;IACCvB;EACF,CAAC,GAAGH,cAAc,CAAC;IACjB2B,KAAK,GAAG;MACN,MAAM;QACJC,KAAK;QACLC;MACF,CAAC,GAAG5B,aAAa,EAAE;MACnB,MAAM6B,QAAQ,GAAG,MAAM;QACrBF,KAAK,CAACtB,MAAM,GAAG,EAAE;MACnB,CAAC;MACD,OAAO,MAAMX,YAAY,CAACO,eAAe,EAAEL,WAAW,CAAC+B,KAAK,EAAE;QAC5D,UAAU,EAAEE,QAAQ;QACpB,eAAe,EAAED;MACnB,CAAC,CAAC,EAAE,IAAI,CAAC;IACX;EACF,CAAC,CAAC;AACJ;AACA,MAAME,gBAAgB,GAAG,CAACC,OAAO,EAAEX,aAAa,GAAG,CAAC,KAAK;EACvD,IAAI,CAACtB,SAAS,EAAE;IACd;EACF;EACA,IAAI,CAACI,QAAQ,EAAE;IACbuB,YAAY,EAAE;EAChB;EACAM,OAAO,GAAGC,KAAK,CAACC,OAAO,CAACF,OAAO,CAAC,GAAG;IACjC1B,MAAM,EAAE0B,OAAO;IACfX;EACF,CAAC,GAAGW,OAAO;EACX7B,QAAQ,CAACgC,IAAI,CAACrC,MAAM,CAAC,CAAC,CAAC,EAAEM,aAAa,EAAE4B,OAAO,CAAC,CAAC;EACjD,OAAO7B,QAAQ;AACjB,CAAC;AACD,SACE4B,gBAAgB"},"metadata":{},"sourceType":"module"}