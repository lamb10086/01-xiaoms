{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-44d3093a\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"bottom-column-bar\"\n};\nconst _hoisted_2 = {\n  class: \"bottom-column-top\"\n};\nconst _hoisted_3 = [\"onClick\"];\nconst _hoisted_4 = {\n  \"item-selector\": \".item\",\n  \"transition-duration\": \"0.3s\",\n  class: \"bottom-column-bottom\",\n  \"fit-width\": false,\n  \"horizontal-order\": \"flase\",\n  resize: true,\n  gutter: \"10\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  class: \"userIntroduce\"\n};\nconst _hoisted_7 = {\n  style: {\n    width: '10vw'\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_van_icon = _resolveComponent(\"van-icon\");\n  const _component_van_list = _resolveComponent(\"van-list\");\n  const _directive_masonry_tile = _resolveDirective(\"masonry-tile\");\n  const _directive_masonry = _resolveDirective(\"masonry\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.column, item => {\n    return _openBlock(), _createElementBlock(\"span\", {\n      key: item.name,\n      class: _normalizeClass(item.name == $data.column[$data.columnName].name ? 'choiceSpanActive' : ''),\n      onClick: $event => $options.changeColumn(item)\n    }, _toDisplayString(item.name), 11 /* TEXT, CLASS, PROPS */, _hoisted_3);\n  }), 128 /* KEYED_FRAGMENT */))]), _createVNode(_component_van_list, {\n    loading: $data.loading,\n    \"onUpdate:loading\": _cache[0] || (_cache[0] = $event => $data.loading = $event),\n    finished: $data.finished,\n    \"finished-text\": \"没有更多了\",\n    onLoad: $options.onLoad\n  }, {\n    default: _withCtx(() => [_withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.list, item => {\n      return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n        key: item.data.id,\n        class: \"item\"\n      }, [_createElementVNode(\"img\", {\n        src: item.data.cover.img_url,\n        alt: \"item.data.cover.img_size\"\n      }, null, 8 /* PROPS */, _hoisted_5), _createElementVNode(\"span\", null, _toDisplayString(item.data.title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", null, [_createVNode(_component_van_icon, {\n        name: item.data.user.avatar.img_url,\n        size: \"6vw\"\n      }, null, 8 /* PROPS */, [\"name\"]), _createElementVNode(\"span\", _hoisted_7, _toDisplayString(item.data.user.username), 1 /* TEXT */)]), _createElementVNode(\"div\", null, [_createVNode(_component_van_icon, {\n        name: \"fire-o\",\n        size: \"4vw\",\n        color: \"#e3e3e3\"\n      }), _createElementVNode(\"span\", null, _toDisplayString(item.data.viewnums), 1 /* TEXT */)])])])), [[_directive_masonry_tile]]);\n    }), 128 /* KEYED_FRAGMENT */))])), [[_directive_masonry]])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"loading\", \"finished\", \"onLoad\"])]);\n}","map":{"version":3,"mappings":";;;EACOA,KAAK,EAAC;AAAmB;;EACvBA,KAAK,EAAC;AAAmB;;;EAiB1B,eAAa,EAAC,OAAO;EACrB,qBAAmB,EAAC,MAAM;EAC1BA,KAAK,EAAC,sBAAsB;EAC3B,WAAS,EAAE,KAAK;EACjB,kBAAgB,EAAC,OAAO;EACvBC,MAAM,EAAE,IAAI;EACbC,MAAM,EAAC;;;;EAUAF,KAAK,EAAC;AAAe;;EAGfG,KAAK,EAAE;IAAAC;EAAA;AAAiB;;;;;;uBArC3CC,oBAiDM,OAjDNC,UAiDM,GAhDJC,oBAQM,OARNC,UAQM,sBAPJH,oBAMCI,6BALgBC,YAAM,EAAdC,IAAI;yBADbN,oBAMC;MAJEO,GAAG,EAAED,IAAI,CAACE,IAAI;MACdb,KAAK,kBAAEW,IAAI,CAACE,IAAI,IAAIH,YAAM,CAACA,gBAAU,EAAEG,IAAI;MAC3CC,OAAK,YAAEC,qBAAY,CAACJ,IAAI;wBACrBA,IAAI,CAACE,IAAI;oCAGjBG,aAsCWC;IArCDC,OAAO,EAAER,aAAO;4DAAPA,aAAO;IACvBS,QAAQ,EAAET,cAAQ;IACnB,eAAa,EAAC,OAAO;IACpBU,MAAI,EAAEL;;sBAEP,MA+BM,gCA/BNV,oBA+BM,OA/BNgB,UA+BM,sBArBJhB,oBAoBMI,6BAnBWC,UAAI,EAAZC,IAAI;4CADbN,oBAoBM;QAlBHO,GAAG,EAAED,IAAI,CAACW,IAAI,CAACC,EAAE;QAClBvB,KAAK,EAAC;UAGNO,oBAAqE;QAA/DiB,GAAG,EAAEb,IAAI,CAACW,IAAI,CAACG,KAAK,CAACC,OAAO;QAAEC,GAAG,EAAC;2CACxCpB,oBAAkC,+BAAzBI,IAAI,CAACW,IAAI,CAACM,KAAK,kBACxBrB,oBAWM,OAXNsB,UAWM,GAVJtB,oBAKM,cAJJS,aAA6Dc;QAAlDjB,IAAI,EAAEF,IAAI,CAACW,IAAI,CAACS,IAAI,CAACC,MAAM,CAACN,OAAO;QAAEO,IAAI,EAAC;yCACrD1B,oBAES,QAFT2B,UAES,mBADPvB,IAAI,CAACW,IAAI,CAACS,IAAI,CAACI,QAAQ,oBAG3B5B,oBAGM,cAFJS,aAAqDc;QAA3CjB,IAAI,EAAC,QAAQ;QAACoB,IAAI,EAAC,KAAK;QAACG,KAAK,EAAC;UACzC7B,oBAAqC,+BAA5BI,IAAI,CAACW,IAAI,CAACe,QAAQ","names":["class","resize","gutter","style","width","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_Fragment","$data","item","key","name","onClick","$options","_createVNode","_component_van_list","loading","finished","onLoad","_hoisted_4","data","id","src","cover","img_url","alt","title","_hoisted_6","_component_van_icon","user","avatar","size","_hoisted_7","username","color","viewnums"],"sourceRoot":"","sources":["C:\\Users\\yangp\\Desktop\\01-xiaoms\\src\\views\\xiaomengshu\\BottomColumn.vue"],"sourcesContent":["<template>\r\n  <div class=\"bottom-column-bar\">\r\n    <div class=\"bottom-column-top\">\r\n      <span\r\n        v-for=\"item in column\"\r\n        :key=\"item.name\"\r\n        :class=\"item.name == column[columnName].name ? 'choiceSpanActive' : ''\"\r\n        @click=\"changeColumn(item)\"\r\n        >{{ item.name }}</span\r\n      >\r\n    </div>\r\n    <van-list\r\n      v-model:loading=\"loading\"\r\n      :finished=\"finished\"\r\n      finished-text=\"没有更多了\"\r\n      @load=\"onLoad\"\r\n    >\r\n      <div\r\n        v-masonry\r\n        item-selector=\".item\"\r\n        transition-duration=\"0.3s\"\r\n        class=\"bottom-column-bottom\"\r\n        :fit-width=\"false\"\r\n        horizontal-order=\"flase\"\r\n        :resize=\"true\"\r\n        gutter=\"10\"\r\n      >\r\n        <div\r\n          v-for=\"item in list\"\r\n          :key=\"item.data.id\"\r\n          class=\"item\"\r\n          v-masonry-tile\r\n        >\r\n          <img :src=\"item.data.cover.img_url\" alt=\"item.data.cover.img_size\" />\r\n          <span>{{ item.data.title }}</span>\r\n          <div class=\"userIntroduce\">\r\n            <div>\r\n              <van-icon :name=\"item.data.user.avatar.img_url\" size=\"6vw\" />\r\n              <span :style=\"{ width: '10vw' }\">{{\r\n                item.data.user.username\r\n              }}</span>\r\n            </div>\r\n            <div>\r\n              <van-icon name=\"fire-o\" size=\"4vw\" color=\"#e3e3e3\" />\r\n              <span>{{ item.data.viewnums }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </van-list>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getRecommendList } from \"@/api/xiaomengshu\";\r\nexport default {\r\n  computed: {\r\n    pet_type() {\r\n      return this.$store.getters.pet_type;\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      columnName: 0,\r\n      column: [], //广告名字\r\n      list: [], //推荐列表\r\n      page: 0,\r\n      param: 0,\r\n      loading: false,\r\n      finished: false,\r\n      timer: \"\",\r\n      timerwork: false,\r\n    };\r\n  },\r\n  watch: {\r\n    async pet_type() {\r\n      let res = await this.getColumn();\r\n      this.columnName = 0;\r\n      this.column = res.data.column;\r\n      this.list = res.data.list;\r\n    },\r\n  },\r\n  async created() {\r\n    let res = await this.getColumn();\r\n    this.column = res.data.column;\r\n    this.list = res.data.list;\r\n  },\r\n  methods: {\r\n    async getColumn(\r\n      params = { pet_type: this.pet_type, page: this.page, param: this.param }\r\n    ) {\r\n      let res = await getRecommendList(params);\r\n      return res;\r\n    },\r\n    async changeColumn(item) {\r\n      let res = await this.getColumn({ param: item.param });\r\n      this.column = res.data.column;\r\n      this.columnName = (this.columnName + 1) % 2;\r\n      this.list = res.data.list;\r\n    },\r\n    async onLoad() {\r\n      this.page += 2;\r\n      if (this.page >= 100) this.finished = true;\r\n      let res = await this.getColumn();\r\n      this.list = [...this.list, ...res.data.list];\r\n      if (!this.timerwork) {\r\n        this.timer = setTimeout(() => {\r\n          this.loading = false;\r\n          this.timerwork = false;\r\n          clearTimeout(this.timer);\r\n        }, 6000);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.bottom-column-bar {\r\n  width: 95vw;\r\n  margin: 0 auto;\r\n  .bottom-column-top {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    font-size: 3vw;\r\n    color: #666666;\r\n  }\r\n  .bottom-column-bottom {\r\n    width: 95vw;\r\n    height: 100%;\r\n    & > div {\r\n      background-color: white;\r\n      margin: 1vw 0;\r\n      border-radius: 10px;\r\n      img {\r\n        // margin: 1vw auto;\r\n        display: block;\r\n        border-radius: 10px;\r\n        width: 45vw;\r\n      }\r\n      & > span {\r\n        margin: 0 auto;\r\n        font-size: 2.5vw;\r\n        padding: 1vw 2vw 3vw 2vw;\r\n        display: block;\r\n        width: 41vw;\r\n      }\r\n    }\r\n    .userIntroduce {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      padding-bottom: 3vw;\r\n      & > div {\r\n        padding: 0 3vw;\r\n        display: flex;\r\n        align-items: center;\r\n        font-size: 1vw;\r\n        i {\r\n          overflow: hidden;\r\n          border-radius: 50%;\r\n        }\r\n        span {\r\n          white-space: nowrap;\r\n          text-overflow: ellipsis;\r\n          display: block;\r\n          overflow: hidden;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.choiceSpanActive {\r\n  font-size: 4vw;\r\n  color: black;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}