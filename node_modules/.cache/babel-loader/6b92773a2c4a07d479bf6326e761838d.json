{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport { computed, defineComponent } from \"vue\";\nimport { makeStringProp, createNamespace, makeRequiredProp } from \"../utils/index.mjs\";\nimport { getDate, formatAmount, formatDiscount } from \"./utils.mjs\";\nimport { Checkbox } from \"../checkbox/index.mjs\";\nconst [name, bem, t] = createNamespace(\"coupon\");\nvar stdin_default = defineComponent({\n  name,\n  props: {\n    chosen: Boolean,\n    coupon: makeRequiredProp(Object),\n    disabled: Boolean,\n    currency: makeStringProp(\"\\xA5\")\n  },\n  setup(props) {\n    const validPeriod = computed(() => {\n      const {\n        startAt,\n        endAt\n      } = props.coupon;\n      return `${getDate(startAt)} - ${getDate(endAt)}`;\n    });\n    const faceAmount = computed(() => {\n      const {\n        coupon,\n        currency\n      } = props;\n      if (coupon.valueDesc) {\n        return [coupon.valueDesc, _createVNode(\"span\", null, [coupon.unitDesc || \"\"])];\n      }\n      if (coupon.denominations) {\n        const denominations = formatAmount(coupon.denominations);\n        return [_createVNode(\"span\", null, [currency]), ` ${denominations}`];\n      }\n      if (coupon.discount) {\n        return t(\"discount\", formatDiscount(coupon.discount));\n      }\n      return \"\";\n    });\n    const conditionMessage = computed(() => {\n      const condition = formatAmount(props.coupon.originCondition || 0);\n      return condition === \"0\" ? t(\"unlimited\") : t(\"condition\", condition);\n    });\n    return () => {\n      const {\n        chosen,\n        coupon,\n        disabled\n      } = props;\n      const description = disabled && coupon.reason || coupon.description;\n      return _createVNode(\"div\", {\n        \"class\": bem({\n          disabled\n        })\n      }, [_createVNode(\"div\", {\n        \"class\": bem(\"content\")\n      }, [_createVNode(\"div\", {\n        \"class\": bem(\"head\")\n      }, [_createVNode(\"h2\", {\n        \"class\": bem(\"amount\")\n      }, [faceAmount.value]), _createVNode(\"p\", {\n        \"class\": bem(\"condition\")\n      }, [coupon.condition || conditionMessage.value])]), _createVNode(\"div\", {\n        \"class\": bem(\"body\")\n      }, [_createVNode(\"p\", {\n        \"class\": bem(\"name\")\n      }, [coupon.name]), _createVNode(\"p\", {\n        \"class\": bem(\"valid\")\n      }, [validPeriod.value]), !disabled && _createVNode(Checkbox, {\n        \"class\": bem(\"corner\"),\n        \"modelValue\": chosen\n      }, null)])]), description && _createVNode(\"p\", {\n        \"class\": bem(\"description\")\n      }, [description])]);\n    };\n  }\n});\nexport { stdin_default as default };","map":{"version":3,"names":["createVNode","_createVNode","computed","defineComponent","makeStringProp","createNamespace","makeRequiredProp","getDate","formatAmount","formatDiscount","Checkbox","name","bem","t","stdin_default","props","chosen","Boolean","coupon","Object","disabled","currency","setup","validPeriod","startAt","endAt","faceAmount","valueDesc","unitDesc","denominations","discount","conditionMessage","condition","originCondition","description","reason","value","default"],"sources":["C:/Users/yangp/Desktop/01-xiaoms/node_modules/vant/es/coupon/Coupon.mjs"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\r\nimport { computed, defineComponent } from \"vue\";\r\nimport { makeStringProp, createNamespace, makeRequiredProp } from \"../utils/index.mjs\";\r\nimport { getDate, formatAmount, formatDiscount } from \"./utils.mjs\";\r\nimport { Checkbox } from \"../checkbox/index.mjs\";\r\nconst [name, bem, t] = createNamespace(\"coupon\");\r\nvar stdin_default = defineComponent({\r\n  name,\r\n  props: {\r\n    chosen: Boolean,\r\n    coupon: makeRequiredProp(Object),\r\n    disabled: Boolean,\r\n    currency: makeStringProp(\"\\xA5\")\r\n  },\r\n  setup(props) {\r\n    const validPeriod = computed(() => {\r\n      const {\r\n        startAt,\r\n        endAt\r\n      } = props.coupon;\r\n      return `${getDate(startAt)} - ${getDate(endAt)}`;\r\n    });\r\n    const faceAmount = computed(() => {\r\n      const {\r\n        coupon,\r\n        currency\r\n      } = props;\r\n      if (coupon.valueDesc) {\r\n        return [coupon.valueDesc, _createVNode(\"span\", null, [coupon.unitDesc || \"\"])];\r\n      }\r\n      if (coupon.denominations) {\r\n        const denominations = formatAmount(coupon.denominations);\r\n        return [_createVNode(\"span\", null, [currency]), ` ${denominations}`];\r\n      }\r\n      if (coupon.discount) {\r\n        return t(\"discount\", formatDiscount(coupon.discount));\r\n      }\r\n      return \"\";\r\n    });\r\n    const conditionMessage = computed(() => {\r\n      const condition = formatAmount(props.coupon.originCondition || 0);\r\n      return condition === \"0\" ? t(\"unlimited\") : t(\"condition\", condition);\r\n    });\r\n    return () => {\r\n      const {\r\n        chosen,\r\n        coupon,\r\n        disabled\r\n      } = props;\r\n      const description = disabled && coupon.reason || coupon.description;\r\n      return _createVNode(\"div\", {\r\n        \"class\": bem({\r\n          disabled\r\n        })\r\n      }, [_createVNode(\"div\", {\r\n        \"class\": bem(\"content\")\r\n      }, [_createVNode(\"div\", {\r\n        \"class\": bem(\"head\")\r\n      }, [_createVNode(\"h2\", {\r\n        \"class\": bem(\"amount\")\r\n      }, [faceAmount.value]), _createVNode(\"p\", {\r\n        \"class\": bem(\"condition\")\r\n      }, [coupon.condition || conditionMessage.value])]), _createVNode(\"div\", {\r\n        \"class\": bem(\"body\")\r\n      }, [_createVNode(\"p\", {\r\n        \"class\": bem(\"name\")\r\n      }, [coupon.name]), _createVNode(\"p\", {\r\n        \"class\": bem(\"valid\")\r\n      }, [validPeriod.value]), !disabled && _createVNode(Checkbox, {\r\n        \"class\": bem(\"corner\"),\r\n        \"modelValue\": chosen\r\n      }, null)])]), description && _createVNode(\"p\", {\r\n        \"class\": bem(\"description\")\r\n      }, [description])]);\r\n    };\r\n  }\r\n});\r\nexport {\r\n  stdin_default as default\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}