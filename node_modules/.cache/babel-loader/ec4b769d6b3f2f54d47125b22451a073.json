{"ast":null,"code":"import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { ref, watch, computed, Teleport, nextTick, onMounted, defineComponent } from \"vue\";\nimport { addUnit, inBrowser, numericProp, getScrollTop, createNamespace, makeNumericProp } from \"../utils/index.mjs\";\nimport { throttle } from \"../lazyload/vue-lazyload/util.mjs\";\nimport { useEventListener, getScrollParent } from \"@vant/use\";\nimport { Icon } from \"../icon/index.mjs\";\nconst [name, bem] = createNamespace(\"back-top\");\nconst backTopProps = {\n  right: numericProp,\n  bottom: numericProp,\n  target: [String, Object],\n  offset: makeNumericProp(200),\n  teleport: {\n    type: [String, Object],\n    default: \"body\"\n  }\n};\nvar stdin_default = defineComponent({\n  name,\n  inheritAttrs: false,\n  props: backTopProps,\n  emits: [\"click\"],\n  setup(props, {\n    emit,\n    slots,\n    attrs\n  }) {\n    const show = ref(false);\n    const root = ref();\n    const scrollParent = ref();\n    const style = computed(() => ({\n      right: addUnit(props.right),\n      bottom: addUnit(props.bottom)\n    }));\n    const onClick = event => {\n      var _a;\n      emit(\"click\", event);\n      (_a = scrollParent.value) == null ? void 0 : _a.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n      });\n    };\n    const scroll = () => {\n      show.value = scrollParent.value ? getScrollTop(scrollParent.value) >= props.offset : false;\n    };\n    const getTarget = () => {\n      const {\n        target\n      } = props;\n      if (typeof target === \"string\") {\n        const el = document.querySelector(target);\n        if (el) {\n          return el;\n        }\n        if (process.env.NODE_ENV !== \"production\") {\n          console.error(`[Vant] BackTop: target element \"${target}\" was not found, the BackTop component will not be rendered.`);\n        }\n      } else {\n        return target;\n      }\n    };\n    const updateTarget = () => {\n      if (inBrowser) {\n        nextTick(() => {\n          scrollParent.value = props.target ? getTarget() : getScrollParent(root.value);\n          scroll();\n        });\n      }\n    };\n    useEventListener(\"scroll\", throttle(scroll, 100), {\n      target: scrollParent\n    });\n    onMounted(updateTarget);\n    watch(() => props.target, updateTarget);\n    return () => {\n      const Content = _createVNode(\"div\", _mergeProps({\n        \"ref\": root,\n        \"class\": bem({\n          active: show.value\n        }),\n        \"style\": style.value,\n        \"onClick\": onClick\n      }, attrs), [slots.default ? slots.default() : _createVNode(Icon, {\n        \"name\": \"back-top\",\n        \"class\": bem(\"icon\")\n      }, null)]);\n      if (props.teleport) {\n        return _createVNode(Teleport, {\n          \"to\": props.teleport\n        }, {\n          default: () => [Content]\n        });\n      }\n      return Content;\n    };\n  }\n});\nexport { backTopProps, stdin_default as default };","map":{"version":3,"names":["mergeProps","_mergeProps","createVNode","_createVNode","ref","watch","computed","Teleport","nextTick","onMounted","defineComponent","addUnit","inBrowser","numericProp","getScrollTop","createNamespace","makeNumericProp","throttle","useEventListener","getScrollParent","Icon","name","bem","backTopProps","right","bottom","target","String","Object","offset","teleport","type","default","stdin_default","inheritAttrs","props","emits","setup","emit","slots","attrs","show","root","scrollParent","style","onClick","event","_a","value","scrollTo","top","behavior","scroll","getTarget","el","document","querySelector","process","env","NODE_ENV","console","error","updateTarget","Content","active"],"sources":["C:/Users/yangp/Desktop/01-xiaoms/node_modules/vant/es/back-top/BackTop.mjs"],"sourcesContent":["import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\r\nimport { ref, watch, computed, Teleport, nextTick, onMounted, defineComponent } from \"vue\";\r\nimport { addUnit, inBrowser, numericProp, getScrollTop, createNamespace, makeNumericProp } from \"../utils/index.mjs\";\r\nimport { throttle } from \"../lazyload/vue-lazyload/util.mjs\";\r\nimport { useEventListener, getScrollParent } from \"@vant/use\";\r\nimport { Icon } from \"../icon/index.mjs\";\r\nconst [name, bem] = createNamespace(\"back-top\");\r\nconst backTopProps = {\r\n  right: numericProp,\r\n  bottom: numericProp,\r\n  target: [String, Object],\r\n  offset: makeNumericProp(200),\r\n  teleport: {\r\n    type: [String, Object],\r\n    default: \"body\"\r\n  }\r\n};\r\nvar stdin_default = defineComponent({\r\n  name,\r\n  inheritAttrs: false,\r\n  props: backTopProps,\r\n  emits: [\"click\"],\r\n  setup(props, {\r\n    emit,\r\n    slots,\r\n    attrs\r\n  }) {\r\n    const show = ref(false);\r\n    const root = ref();\r\n    const scrollParent = ref();\r\n    const style = computed(() => ({\r\n      right: addUnit(props.right),\r\n      bottom: addUnit(props.bottom)\r\n    }));\r\n    const onClick = (event) => {\r\n      var _a;\r\n      emit(\"click\", event);\r\n      (_a = scrollParent.value) == null ? void 0 : _a.scrollTo({\r\n        top: 0,\r\n        behavior: \"smooth\"\r\n      });\r\n    };\r\n    const scroll = () => {\r\n      show.value = scrollParent.value ? getScrollTop(scrollParent.value) >= props.offset : false;\r\n    };\r\n    const getTarget = () => {\r\n      const {\r\n        target\r\n      } = props;\r\n      if (typeof target === \"string\") {\r\n        const el = document.querySelector(target);\r\n        if (el) {\r\n          return el;\r\n        }\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n          console.error(`[Vant] BackTop: target element \"${target}\" was not found, the BackTop component will not be rendered.`);\r\n        }\r\n      } else {\r\n        return target;\r\n      }\r\n    };\r\n    const updateTarget = () => {\r\n      if (inBrowser) {\r\n        nextTick(() => {\r\n          scrollParent.value = props.target ? getTarget() : getScrollParent(root.value);\r\n          scroll();\r\n        });\r\n      }\r\n    };\r\n    useEventListener(\"scroll\", throttle(scroll, 100), {\r\n      target: scrollParent\r\n    });\r\n    onMounted(updateTarget);\r\n    watch(() => props.target, updateTarget);\r\n    return () => {\r\n      const Content = _createVNode(\"div\", _mergeProps({\r\n        \"ref\": root,\r\n        \"class\": bem({\r\n          active: show.value\r\n        }),\r\n        \"style\": style.value,\r\n        \"onClick\": onClick\r\n      }, attrs), [slots.default ? slots.default() : _createVNode(Icon, {\r\n        \"name\": \"back-top\",\r\n        \"class\": bem(\"icon\")\r\n      }, null)]);\r\n      if (props.teleport) {\r\n        return _createVNode(Teleport, {\r\n          \"to\": props.teleport\r\n        }, {\r\n          default: () => [Content]\r\n        });\r\n      }\r\n      return Content;\r\n    };\r\n  }\r\n});\r\nexport {\r\n  backTopProps,\r\n  stdin_default as default\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}