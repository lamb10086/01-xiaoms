{"ast":null,"code":"import { useRect } from \"@vant/use\";\nimport { ref, onMounted, nextTick, watch } from \"vue\";\nimport { windowHeight, windowWidth } from \"../utils/index.mjs\";\nimport { onPopupReopen } from \"./on-popup-reopen.mjs\";\nconst useHeight = (element, withSafeArea) => {\n  const height = ref();\n  const setHeight = () => {\n    height.value = useRect(element).height;\n  };\n  onMounted(() => {\n    nextTick(setHeight);\n    if (withSafeArea) {\n      for (let i = 1; i <= 3; i++) {\n        setTimeout(setHeight, 100 * i);\n      }\n    }\n  });\n  onPopupReopen(() => nextTick(setHeight));\n  watch([windowWidth, windowHeight], setHeight);\n  return height;\n};\nexport { useHeight };","map":{"version":3,"names":["useRect","ref","onMounted","nextTick","watch","windowHeight","windowWidth","onPopupReopen","useHeight","element","withSafeArea","height","setHeight","value","i","setTimeout"],"sources":["C:/Users/yangp/Desktop/01-xiaoms/node_modules/vant/es/composables/use-height.mjs"],"sourcesContent":["import { useRect } from \"@vant/use\";\r\nimport { ref, onMounted, nextTick, watch } from \"vue\";\r\nimport { windowHeight, windowWidth } from \"../utils/index.mjs\";\r\nimport { onPopupReopen } from \"./on-popup-reopen.mjs\";\r\nconst useHeight = (element, withSafeArea) => {\r\n  const height = ref();\r\n  const setHeight = () => {\r\n    height.value = useRect(element).height;\r\n  };\r\n  onMounted(() => {\r\n    nextTick(setHeight);\r\n    if (withSafeArea) {\r\n      for (let i = 1; i <= 3; i++) {\r\n        setTimeout(setHeight, 100 * i);\r\n      }\r\n    }\r\n  });\r\n  onPopupReopen(() => nextTick(setHeight));\r\n  watch([windowWidth, windowHeight], setHeight);\r\n  return height;\r\n};\r\nexport {\r\n  useHeight\r\n};\r\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,WAAW;AACnC,SAASC,GAAG,EAAEC,SAAS,EAAEC,QAAQ,EAAEC,KAAK,QAAQ,KAAK;AACrD,SAASC,YAAY,EAAEC,WAAW,QAAQ,oBAAoB;AAC9D,SAASC,aAAa,QAAQ,uBAAuB;AACrD,MAAMC,SAAS,GAAG,CAACC,OAAO,EAAEC,YAAY,KAAK;EAC3C,MAAMC,MAAM,GAAGV,GAAG,EAAE;EACpB,MAAMW,SAAS,GAAG,MAAM;IACtBD,MAAM,CAACE,KAAK,GAAGb,OAAO,CAACS,OAAO,CAAC,CAACE,MAAM;EACxC,CAAC;EACDT,SAAS,CAAC,MAAM;IACdC,QAAQ,CAACS,SAAS,CAAC;IACnB,IAAIF,YAAY,EAAE;MAChB,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;QAC3BC,UAAU,CAACH,SAAS,EAAE,GAAG,GAAGE,CAAC,CAAC;MAChC;IACF;EACF,CAAC,CAAC;EACFP,aAAa,CAAC,MAAMJ,QAAQ,CAACS,SAAS,CAAC,CAAC;EACxCR,KAAK,CAAC,CAACE,WAAW,EAAED,YAAY,CAAC,EAAEO,SAAS,CAAC;EAC7C,OAAOD,MAAM;AACf,CAAC;AACD,SACEH,SAAS"},"metadata":{},"sourceType":"module"}