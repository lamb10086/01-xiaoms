{"ast":null,"code":"import { raf } from \"@vant/use\";\nimport { getScrollTop, setScrollTop } from \"../utils/index.mjs\";\nfunction scrollLeftTo(scroller, to, duration) {\n  let count = 0;\n  const from = scroller.scrollLeft;\n  const frames = duration === 0 ? 1 : Math.round(duration * 1e3 / 16);\n  function animate() {\n    scroller.scrollLeft += (to - from) / frames;\n    if (++count < frames) {\n      raf(animate);\n    }\n  }\n  animate();\n}\nfunction scrollTopTo(scroller, to, duration, callback) {\n  let current = getScrollTop(scroller);\n  const isDown = current < to;\n  const frames = duration === 0 ? 1 : Math.round(duration * 1e3 / 16);\n  const step = (to - current) / frames;\n  function animate() {\n    current += step;\n    if (isDown && current > to || !isDown && current < to) {\n      current = to;\n    }\n    setScrollTop(scroller, current);\n    if (isDown && current < to || !isDown && current > to) {\n      raf(animate);\n    } else if (callback) {\n      raf(callback);\n    }\n  }\n  animate();\n}\nexport { scrollLeftTo, scrollTopTo };","map":{"version":3,"names":["raf","getScrollTop","setScrollTop","scrollLeftTo","scroller","to","duration","count","from","scrollLeft","frames","Math","round","animate","scrollTopTo","callback","current","isDown","step"],"sources":["C:/Users/yangp/Desktop/01-xiaoms/node_modules/vant/es/tabs/utils.mjs"],"sourcesContent":["import { raf } from \"@vant/use\";\r\nimport { getScrollTop, setScrollTop } from \"../utils/index.mjs\";\r\nfunction scrollLeftTo(scroller, to, duration) {\r\n  let count = 0;\r\n  const from = scroller.scrollLeft;\r\n  const frames = duration === 0 ? 1 : Math.round(duration * 1e3 / 16);\r\n  function animate() {\r\n    scroller.scrollLeft += (to - from) / frames;\r\n    if (++count < frames) {\r\n      raf(animate);\r\n    }\r\n  }\r\n  animate();\r\n}\r\nfunction scrollTopTo(scroller, to, duration, callback) {\r\n  let current = getScrollTop(scroller);\r\n  const isDown = current < to;\r\n  const frames = duration === 0 ? 1 : Math.round(duration * 1e3 / 16);\r\n  const step = (to - current) / frames;\r\n  function animate() {\r\n    current += step;\r\n    if (isDown && current > to || !isDown && current < to) {\r\n      current = to;\r\n    }\r\n    setScrollTop(scroller, current);\r\n    if (isDown && current < to || !isDown && current > to) {\r\n      raf(animate);\r\n    } else if (callback) {\r\n      raf(callback);\r\n    }\r\n  }\r\n  animate();\r\n}\r\nexport {\r\n  scrollLeftTo,\r\n  scrollTopTo\r\n};\r\n"],"mappings":"AAAA,SAASA,GAAG,QAAQ,WAAW;AAC/B,SAASC,YAAY,EAAEC,YAAY,QAAQ,oBAAoB;AAC/D,SAASC,YAAY,CAACC,QAAQ,EAAEC,EAAE,EAAEC,QAAQ,EAAE;EAC5C,IAAIC,KAAK,GAAG,CAAC;EACb,MAAMC,IAAI,GAAGJ,QAAQ,CAACK,UAAU;EAChC,MAAMC,MAAM,GAAGJ,QAAQ,KAAK,CAAC,GAAG,CAAC,GAAGK,IAAI,CAACC,KAAK,CAACN,QAAQ,GAAG,GAAG,GAAG,EAAE,CAAC;EACnE,SAASO,OAAO,GAAG;IACjBT,QAAQ,CAACK,UAAU,IAAI,CAACJ,EAAE,GAAGG,IAAI,IAAIE,MAAM;IAC3C,IAAI,EAAEH,KAAK,GAAGG,MAAM,EAAE;MACpBV,GAAG,CAACa,OAAO,CAAC;IACd;EACF;EACAA,OAAO,EAAE;AACX;AACA,SAASC,WAAW,CAACV,QAAQ,EAAEC,EAAE,EAAEC,QAAQ,EAAES,QAAQ,EAAE;EACrD,IAAIC,OAAO,GAAGf,YAAY,CAACG,QAAQ,CAAC;EACpC,MAAMa,MAAM,GAAGD,OAAO,GAAGX,EAAE;EAC3B,MAAMK,MAAM,GAAGJ,QAAQ,KAAK,CAAC,GAAG,CAAC,GAAGK,IAAI,CAACC,KAAK,CAACN,QAAQ,GAAG,GAAG,GAAG,EAAE,CAAC;EACnE,MAAMY,IAAI,GAAG,CAACb,EAAE,GAAGW,OAAO,IAAIN,MAAM;EACpC,SAASG,OAAO,GAAG;IACjBG,OAAO,IAAIE,IAAI;IACf,IAAID,MAAM,IAAID,OAAO,GAAGX,EAAE,IAAI,CAACY,MAAM,IAAID,OAAO,GAAGX,EAAE,EAAE;MACrDW,OAAO,GAAGX,EAAE;IACd;IACAH,YAAY,CAACE,QAAQ,EAAEY,OAAO,CAAC;IAC/B,IAAIC,MAAM,IAAID,OAAO,GAAGX,EAAE,IAAI,CAACY,MAAM,IAAID,OAAO,GAAGX,EAAE,EAAE;MACrDL,GAAG,CAACa,OAAO,CAAC;IACd,CAAC,MAAM,IAAIE,QAAQ,EAAE;MACnBf,GAAG,CAACe,QAAQ,CAAC;IACf;EACF;EACAF,OAAO,EAAE;AACX;AACA,SACEV,YAAY,EACZW,WAAW"},"metadata":{},"sourceType":"module"}